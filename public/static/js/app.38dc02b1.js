(function(t){function e(e){for(var i,l,s=e[0],r=e[1],c=e[2],u=0,p=[];u<s.length;u++)l=s[u],n[l]&&p.push(n[l][0]),n[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var r=a[s];0!==n[r]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},n={app:0},o=[];function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("e2a1"),n=a.n(i);n.a},"0369":function(t,e,a){"use strict";var i=a("653f"),n=a.n(i);n.a},"0575":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".el-main .el-select[data-v-6181e06b]{display:block}.el-main[data-v-6181e06b]{padding:0 20px}.el-aside *[data-v-6181e06b],.el-main *[data-v-6181e06b]{margin:15px 0}",""])},"06ba":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".el-main[data-v-1159f736]{padding:0 20px}.el-aside *[data-v-1159f736],.el-main *[data-v-1159f736]{margin:15px 0}",""])},"095a":function(t,e,a){"use strict";var i=a("c347"),n=a.n(i);n.a},"0e0e":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"ul[data-v-4ca4c258]{height:-webkit-fill-available}",""])},"10f0":function(t,e,a){var i=a("5246");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("08f937ab",i,!0,{sourceMap:!1,shadowMode:!1})},"13fb":function(t,e,a){var i=a("0e0e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("6e2abc6c",i,!0,{sourceMap:!1,shadowMode:!1})},"158b":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".el-select[data-v-e6345d60]{width:150px;margin:0 5px}",""])},"2da3":function(t,e,a){var i=a("a730");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("6ffa0bc0",i,!0,{sourceMap:!1,shadowMode:!1})},"2f66":function(t,e,a){"use strict";var i=a("9d4b"),n=a.n(i);n.a},3225:function(t,e,a){"use strict";var i=a("fc1d"),n=a.n(i);n.a},"3f8c":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;min-width:1210px}p{margin:0}textarea{height:inherit}.timingMain .el-dialog__body{border-top:1px solid #bbb;border-bottom:1px solid #bbb}.el-main{padding:20px 40px}.el-menu-item-group__title{padding:0}",""])},"437d":function(t,e,a){var i=a("4e49");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("097178e6",i,!0,{sourceMap:!1,shadowMode:!1})},"4e49":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".talkInfo[data-v-3bfdcb03]{font-size:12px;padding:20px 0}.talkInfo div[data-v-3bfdcb03]{margin:15px 0}",""])},"4e95":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".el-dropdown-link[data-v-8105c698]{cursor:pointer;color:#409eff;font-size:12px}.dropdown-edit[data-v-8105c698]{margin-left:5px}",""])},5246:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".sourceInfo[data-v-176a1690]{color:#888;font-size:14px;text-align:left;margin:20px 0}.typeTitle[data-v-176a1690]{margin-right:15px;font-size:14px}",""])},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var i=a("2b0e"),n=a("5c96"),o=a.n(n),l=(a("0fae"),a("99ed"),a("9ce6")),s=a.n(l),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],d=(a("034f"),a("2877")),u={},p=Object(d["a"])(u,r,c,!1,null,null,null);p.options.__file="App.vue";var f=p.exports,m=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("left-aside"),a("el-container",[a("el-header"),a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[t._v("\n                        媒体库\n                    ")])])],1),a("filter-list",{attrs:{listType:"media","filter-list":t.filterList},on:{filterMediaList:t.filterMediaList}}),a("div",{staticClass:"am-form-file"},[a("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"primary"}},[t._v("上传")]),a("input",{ref:"myFiles",attrs:{type:"file",multiple:"",accept:"audio/mp3,video/mp4,image/jpg,image/png"},on:{change:t.changeUploadList}})],1),a("media-list",{attrs:{"table-type":"media","media-list":t.mediaList,"current-page":t.currentPage},on:{delMediaInfo:t.delMediaInfo}})],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.paginationNum},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),a("release-timing",{attrs:{isShow:t.isShowSetTime},on:{hideTiming:function(e){t.isShowSetTime=!1}}}),a("el-dialog",{staticClass:"dialogUpload",attrs:{title:"上传文件",visible:t.dialogUploadVisible,width:"50%"},on:{"update:visible":function(e){t.dialogUploadVisible=e}}},[a("div",{staticStyle:{border:"1px solid #bbb","min-height":"200px"}},[a("div",{staticStyle:{padding:"10px"}},t._l(t.fileList,function(e,i){return a("div",{key:i,staticStyle:{margin:"3px 0"}},[a("div",{staticStyle:{width:"70%",float:"left"}},[a("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.name))]),a("el-progress",{attrs:{"stroke-width":3,percentage:e.num,status:100===e.num?"success":"text"}},[t._v(t._s(e.num)+"%\n                            ")])],1),""!==e.id?a("el-button",{staticStyle:{float:"right"},attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){t.jumpNewPage(e.id)}}},[t._v("查看\n                        ")]):t._e()],1)}),0)]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogUploadVisible=!1}}},[t._v("完成")])],1)])],1)],1)},v=[],g=(a("7f7f"),a("ac6a"),a("8615"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticStyle:{padding:"25px 0"}},[a("el-col",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:"media"===t.listType,expression:"listType === 'media'"}],staticStyle:{width:"25%"},attrs:{size:"small",placeholder:"搜索标题、摘要、字幕，支持中英文关键词","suffix-icon":"el-icon-search"},model:{value:t.filterList.title,callback:function(e){t.$set(t.filterList,"title",e)},expression:"filterList.title"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"media"===t.listType,expression:"listType === 'media'"}],attrs:{"default-first-option":"",value:"",size:"small",placeholder:"分类（iFun iTalk..）"},model:{value:t.filterList.category,callback:function(e){t.$set(t.filterList,"category",e)},expression:"filterList.category"}},[a("el-option",{attrs:{label:"iFun",value:"fun"}}),a("el-option",{attrs:{label:"iTalk",value:"talk"}}),a("el-option",{attrs:{label:"iListen",value:"listen"}}),a("el-option",{attrs:{label:"iWords",value:"word"}})],1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"media"===t.listType,expression:"listType === 'media'"}],attrs:{placeholder:"来源",value:"",size:"small"},model:{value:t.filterList.source,callback:function(e){t.$set(t.filterList,"source",e)},expression:"filterList.source"}}),a("el-select",{attrs:{placeholder:"难度",value:"",size:"small"},model:{value:t.filterList.difficulty,callback:function(e){t.$set(t.filterList,"difficulty",e)},expression:"filterList.difficulty"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),a("el-option",{attrs:{label:"初级",value:"1"}}),a("el-option",{attrs:{label:"中级",value:"2"}}),a("el-option",{attrs:{label:"高级",value:"3"}}),"talk"===t.listType?a("el-option",{attrs:{label:"彩蛋题",value:"4"}}):t._e()],1),a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",value:"",size:"small",placeholder:"标签"},model:{value:t.filterList.label,callback:function(e){t.$set(t.filterList,"label",e)},expression:"filterList.label"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"media"!==t.listType,expression:"listType !== 'media'"}],attrs:{placeholder:"状态",value:"",size:"small"},model:{value:t.filterList.status,callback:function(e){t.$set(t.filterList,"status",e)},expression:"filterList.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),a("el-option",{attrs:{label:"未发布",value:"1"}}),a("el-option",{attrs:{label:"待发布",value:"2"}}),a("el-option",{attrs:{label:"待发布",value:"3"}})],1),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.filterMediaList}},[t._v("查找")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.clearAll}},[t._v("清除筛选")])],1)],1)}),b=[],y={name:"filter-list-item",props:{listType:String,filterList:Object},data:function(){return{type:"",source:"",difficulty:"",label:"",status:""}},methods:{clearAll:function(){this.type="",this.source="",this.difficulty="",this.label="",this.status="all"},filterMediaList:function(){this.$emit("filterMediaList",this.filterList)}}},w=y,x=(a("af55"),Object(d["a"])(w,g,b,!1,null,"e6345d60",null));x.options.__file="FilterListItem.vue";var _=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"timingMain",attrs:{title:"定时发布",visible:t.isShow,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"40%"},on:{"update:visible":function(e){t.isShow=e}}},[a("div",{staticStyle:{"min-height":"150px"}},[a("el-date-picker",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("el-time-select",{attrs:{size:"small","picker-options":{start:"00:30",step:"00:30",end:"23:30"},placeholder:"选择时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.hideTiming}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setScheduledRelease}},[t._v("设 定")])],1)])},T=[],S=(a("28a5"),{props:{isShow:Boolean,id:String},data:function(){return{time:"",date:""}},mounted:function(){console.log(this.id)},methods:{hideTiming:function(){this.$emit("hideTiming",!1)},setScheduledRelease:function(){var t=this.time.split(":"),e=new FormData;e.append("lessonId",this.id),e.append("time",new Date(this.date).setHours(t[0],t[1],0)),this.$axios.post("/lesson/_public",e).then(function(t){console.log(t)})}},watch:{id:function(t,e){}}}),I=S,L=(a("e71e"),Object(d["a"])(I,k,T,!1,null,"4ce985d0",null));L.options.__file="ReleaseTimingItem.vue";var M=L.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-aside",{attrs:{width:"200px"}},[a("el-row",{staticClass:"tac"},[a("el-col",[a("el-menu",{attrs:{"default-active":t.defaultActive,"default-openeds":["cms"],router:""},on:{open:t.handleOpen,close:t.handleClose}},[a("el-submenu",{attrs:{index:"cms"}},[a("template",{slot:"title"},[a("span",[t._v("CMS")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/",disabled:""}},[t._v("iFun")]),a("el-menu-item",{attrs:{index:"/iTalkList"}},[t._v("iTalk")]),a("el-menu-item",{attrs:{index:"/",disabled:""}},[t._v("iListen")]),a("el-menu-item",{attrs:{index:"/iWordsList"}},[t._v("iWords")])],1)],2),a("el-menu-item",{attrs:{index:"/mediaList"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("媒体库")])])],1)],1)],1)],1)},$=[],C={data:function(){return{defaultActive:"cms",defaultRoute:{MediaList:"/mediaList",EditMediaInfo:"/mediaList",IWordsList:"/iWordsList",EditIWordInfo:"/iWordsList",ITalkList:"/iTalkList",ShowITalkInfo:"/iTalkList"}}},mounted:function(){this.defaultActive=this.defaultRoute[this.$route.name]},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},F=C,D=(a("f2ae"),Object(d["a"])(F,z,$,!1,null,"4ca4c258",null));D.options.__file="LeftAsideItem.vue";var j=D.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.mediaList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"zhTitle",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.zhTitle))]}}])}),a("el-table-column",{attrs:{prop:"_id",label:"ID"}}),a("el-table-column",{attrs:{prop:"difficulty",label:"难度"},scopedSlots:t._u([{key:"default",fn:function(e){return["simple"===e.row.difficulty?a("span",[t._v("初级")]):t._e(),"easily"===e.row.difficulty?a("span",[t._v("中级")]):t._e(),"difficulty"===e.row.difficulty?a("span",[t._v("高级")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"address",label:"状态","show-overflow-tooltip":""}}),"media"===t.tableType?a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.jumpPage("/editMediaInfo/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){t.delMediaInfo(e.row._id)}}},[t._v("刪除")])]}}])}):t._e()],1)],1)},O=[],W={props:{tableType:String,mediaList:Array},data:function(){return{}},mounted:function(){},methods:{jumpPage:function(t){this.$router.push(t)},delMediaInfo:function(t){this.$emit("delMediaInfo",t)},handleSelectChange:function(t){this.$emit("select",t)}}},N=W,V=(a("8218"),Object(d["a"])(N,P,O,!1,null,"6801f43d",null));V.options.__file="MediaListItem.vue";var E=V.exports,A={components:{FilterList:_,ReleaseTiming:M,LeftAside:j,MediaList:E},data:function(){return{mediaList:[],multipleSelection:[],currentPage:1,isShowSetTime:!1,fileList:[],dialogUploadVisible:!1,paginationNum:0,filterList:{}}},mounted:function(){this.init()},methods:{init:function(){this.getMediaListData()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.getMediaListData()},jumpPage:function(t){this.$router.push(t)},handleCommand:function(t){"time"===t.key&&(this.isShowSetTime=!0)},getMediaListData:function(t){var e=this;t=t||{},t.page=this.currentPage,this.$axios.get("/material/_find",{params:t}).then(function(t){t.data.code||(console.log(t.data.data),e.mediaList=t.data.data)}),this.getMediaNumData(t)},handleUploadChange:function(t,e,a){this.dialogUploadVisible=!0},filterMediaList:function(t){var e={page:1,category:t.category||"",enTitle:t.title||"",zhTitle:t.title||"",abstract:t.title||"",enVvt:t.title||"",zhVvt:t.title||"",difficulty:t.difficulty||""};this.getMediaListData(e)},getMediaNumData:function(t){var e=this;t=t||{},this.$axios.get("/material/_getnum",{params:t}).then(function(t){e.paginationNum=t.data.data})},changeUploadList:function(){var t=Object.values(this.$refs.myFiles.files);this.postUploadData(0,t)},postUploadData:function(t,e){var a=this;this.fileList.push({name:e[t].name,num:0,id:""});var i=this.fileList.length-1,n=new FormData;n.append("file",e[t]),this.handleUploadChange(),this.$axios.post("/file/_upload",n,{onUploadProgress:function(t){this.fileList[i].num=parseInt(Math.round(100*t.loaded/t.total))}.bind(this)}).then(function(n){0===n.data.code&&n.data.data[0]&&(a.$message.success("上传成功"),a.fileList[i].id=n.data.data[0].material._id,a.getMediaListData(),t+=1,t<=e.length-1&&a.postUploadData(t,e))})},jumpNewPage:function(t){window.open("#/editMediaInfo/"+t,"_blank")},delMediaInfo:function(t){var e=this;this.$confirm("文件将被直接删除。","确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(function(){e.delMediaData(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delMediaData:function(t){var e=this;this.$axios.get("/material/_delete",{params:{materialId:t}}).then(function(t){t.data.code||(e.$message({type:"success",message:"已删除"}),e.init())})}}},U=A,R=(a("095a"),Object(d["a"])(U,h,v,!1,null,"bd2c57e2",null));R.options.__file="MediaList.vue";var B=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("media-aside",{attrs:{"file-info":t.fileInfo}}),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:3}},[a("div",[t._v("基本信息")])]),a("el-col",{attrs:{span:5}},[a("div",[a("el-button",{attrs:{size:"small"},on:{click:t.postCreateCMSData}},[t._v("生成CMS文章")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveMediaInfo}},[t._v("保存")])],1)])],1),a("div",{staticStyle:{margin:"40px 0"}},[a("span",{staticClass:"typeTitle"},[t._v("课程")]),a("el-select",{attrs:{placeholder:"请选择",value:"",size:"mini"},model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},[a("el-option",{attrs:{label:"iFun",value:"fun"}}),a("el-option",{attrs:{label:"iTalk",value:"talk"}}),a("el-option",{attrs:{label:"iListen",value:"listen",disabled:""}}),a("el-option",{attrs:{label:"iWords",value:"word",disabled:""}})],1)],1),a("talk-info",{attrs:{type:t.currentType,form:t.iTalkForm}}),a("fun-info",{attrs:{type:t.currentType,form:t.iFunForm}})],1),a("el-footer")],1)],1)},q=[],J=(a("456d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return"talk"===t.type?a("el-container",[a("el-aside",{attrs:{width:"65%"}},[a("el-input",{attrs:{placeholder:"标题"},model:{value:t.form.zhTitle,callback:function(e){t.$set(t.form,"zhTitle",e)},expression:"form.zhTitle"}}),a("el-input",{attrs:{placeholder:"中文字幕"},model:{value:t.form.zhVvt,callback:function(e){t.$set(t.form,"zhVvt",e)},expression:"form.zhVvt"}}),a("el-input",{attrs:{placeholder:"英文字幕"},model:{value:t.form.enVvt,callback:function(e){t.$set(t.form,"enVvt",e)},expression:"form.enVvt"}}),a("el-select",{attrs:{value:"",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择标签"},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}},t._l(t.labelList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-main",[a("el-select",{attrs:{placeholder:"难度",value:"",size:"mini"},model:{value:t.form.difficulty,callback:function(e){t.$set(t.form,"difficulty",e)},expression:"form.difficulty"}},[a("el-option",{attrs:{label:"初级",value:"simple"}}),a("el-option",{attrs:{label:"中级",value:"easily"}}),a("el-option",{attrs:{label:"高级",value:"difficulty"}})],1)],1)],1):t._e()}),Q=[],X={props:{type:String,form:Object},data:function(){return{labelList:[],currentLabe:[],currentDifficulty:""}}},Y=X,G=(a("bad4"),Object(d["a"])(Y,J,Q,!1,null,"1159f736",null));G.options.__file="TalkInfoItem.vue";var K=G.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"fun"===t.type?a("el-container",[a("el-aside",{attrs:{width:"65%"}},[a("el-input",{attrs:{placeholder:"中文标题"},model:{value:t.form.zhTitle,callback:function(e){t.$set(t.form,"zhTitle",e)},expression:"form.zhTitle"}}),a("el-input",{attrs:{placeholder:"英文标题"},model:{value:t.form.enTitle,callback:function(e){t.$set(t.form,"enTitle",e)},expression:"form.enTitle"}}),a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"摘要"},model:{value:t.form.abstract,callback:function(e){t.$set(t.form,"abstract",e)},expression:"form.abstract"}}),a("el-select",{attrs:{value:"",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择标签"},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}},t._l(t.labelList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-input",{attrs:{placeholder:"中文字幕"},model:{value:t.form.zhVvt,callback:function(e){t.$set(t.form,"zhVvt",e)},expression:"form.zhVvt"}}),a("el-input",{attrs:{placeholder:"英文字幕"},model:{value:t.form.enVvt,callback:function(e){t.$set(t.form,"enVvt",e)},expression:"form.enVvt"}})],1),a("el-main",[a("el-select",{attrs:{placeholder:"分类",value:"",size:"mini"},model:{value:t.form.class,callback:function(e){t.$set(t.form,"class",e)},expression:"form.class"}},[a("el-option",{attrs:{label:"搞笑",value:"funny"}}),a("el-option",{attrs:{label:"电影",value:"movie"}}),a("el-option",{attrs:{label:"娱乐",value:"entertainment"}}),a("el-option",{attrs:{label:"文化",value:"culture"}}),a("el-option",{attrs:{label:"旅行",value:"travel"}}),a("el-option",{attrs:{label:"艺术",value:"arts"}}),a("el-option",{attrs:{label:"美食",value:"foods"}}),a("el-option",{attrs:{label:"运动",value:"sports"}}),a("el-option",{attrs:{label:"科技",value:"technology"}})],1),a("el-select",{attrs:{placeholder:"难度",value:"",size:"mini"},model:{value:t.form.difficulty,callback:function(e){t.$set(t.form,"difficulty",e)},expression:"form.difficulty"}},[a("el-option",{attrs:{label:"初级",value:"simple"}}),a("el-option",{attrs:{label:"中级",value:"easily"}}),a("el-option",{attrs:{label:"高级",value:"difficulty"}})],1)],1)],1):t._e()},tt=[],et={props:{type:String,form:{type:Object,default:function(){return{zhTitle:"",enTitle:"",abstract:"",currentLabel:"",zhSubtitle:"",enSubtitle:"",currentType:"",label:[],currentDifficulty:""}}}},data:function(){return{labelList:[]}},mounted:function(){}},at=et,it=(a("2f66"),Object(d["a"])(at,Z,tt,!1,null,"6181e06b",null));it.options.__file="FunInfoItem.vue";var nt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-aside",{attrs:{width:"200px"}},[a("div",[a("div",{staticClass:"backBlock",on:{click:function(e){t.jumpPage("/mediaList")}}},[a("i",{staticClass:"el-icon-back"}),a("span",{staticClass:"backText"},[t._v("返回")])]),"mp4"===t.currentType?a("div",[a("embed",{attrs:{src:t.fileInfo.fileUrl,allowFullScreen:"true",quality:"high",width:"200",height:"100",align:"middle",allowScriptAccess:"always",type:"application/x-shockwave-flash"}})]):t._e(),"jpg"===t.currentType||"png"===t.currentType?a("div",[a("img",{attrs:{src:t.fileInfo.fileUrl,width:"200",height:"100"}})]):t._e(),"mp3"===t.currentType?a("div",[a("audio",{attrs:{src:t.fileInfo.fileUrl,controls:"controls"}},[t._v("\n                Your browser does not support the audio element.\n            ")])]):t._e(),a("div",{staticClass:"backBlock"},[a("div",{staticClass:"backBlock",on:{click:function(e){t.jumpPage("/editMediaInfo/"+t.$route.params.id)}}},[t._v("基本信息")]),a("div",{staticClass:"editBlock",on:{click:function(e){t.jumpPage("/editMaterialInfo/"+t.$route.params.id)}}},[t._v("编辑素材")])])])])},lt=[],st={props:{fileInfo:Object},data:function(){return{currentType:""}},mounted:function(){console.log(this.fileInfo)},methods:{jumpPage:function(t){console.log(t),this.$router.push(t)}},watch:{fileInfo:function(t,e){console.log(t),this.currentType=t.fileName.substring(t.fileName.length-3)}}},rt=st,ct=(a("9fc9"),Object(d["a"])(rt,ot,lt,!1,null,"21953c32",null));ct.options.__file="MediaAsideItem.vue";var dt=ct.exports,ut={name:"edit-media-info",components:{TalkInfo:K,FunInfo:nt,MediaAside:dt},data:function(){return{currentType:"fun",iTalkForm:{},iFunForm:{},fileInfo:{}}},mounted:function(){this.getOneMediaData()},methods:{postCreateCMSData:function(){var t=this,e=this.iFunForm;"talk"===this.currentType&&(e=this.iTalkForm);var a=new FormData;delete e.label,e.materialId=this.$route.params.id,e.source="upload",e.status=0,e.category=this.currentType,Object.keys(e).forEach(function(t){a.append(t,e[t])}),this.$axios.post("/material/_createCMS",a).then(function(e){console.log(e),e.data.code||t.$message.success("成功")})},getOneMediaData:function(){var t=this;this.$axios.get("/material/_getone",{params:{materialId:this.$route.params.id}}).then(function(e){console.log(e.data.data),e.data.code||(t.getMediaFormInfo(e),t.getOneFile(e.data.data.fileId))})},getOneFile:function(t){var e=this;this.$axios.get("/file/_getone",{params:{fileId:t}}).then(function(t){t.data.code||(e.fileInfo=t.data.data)})},getMediaFormInfo:function(t){if(t.data.data.category)switch(this.currentType=t.data.data.category,t.data.data.label=t.data.data.label||[],t.data.data.category){case"fun":this.iFunForm=t.data.data;break;case"talk":this.iTalkForm=t.data.data;break}},saveMediaInfo:function(){switch(this.currentType){case"fun":this.checkIFunForm()?this.postMediaInfoData(this.iFunForm):this.$message.warning("请检查字段是否填写完整！");break;case"talk":this.checkITalkForm()?this.postMediaInfoData(this.iTalkForm):this.$message.warning("请检查字段是否填写完整！");break}},checkITalkForm:function(){return this.iTalkForm.zhTitle&&this.iTalkForm.zhVvt&&this.iTalkForm.enVvt&&this.iTalkForm.difficulty},checkIFunForm:function(){return this.iFunForm.zhTitle&&this.iFunForm.enTitle&&this.iFunForm.abstract&&this.iFunForm.zhVvt&&this.iFunForm.enVvt&&this.iFunForm.class&&this.iFunForm.difficulty},postMediaInfoData:function(t){var e=this,a=new FormData;delete t.label,t.materialId=this.$route.params.id,t.source="upload",t.category=this.currentType,Object.keys(t).forEach(function(e){a.append(e,t[e])}),this.$axios.post("/material/_update",a).then(function(t){console.log(t),t.data.code||e.$message.success("更新成功")})}}},pt=ut,ft=(a("e302"),Object(d["a"])(pt,H,q,!1,null,"176a1690",null));ft.options.__file="EditMediaInfo.vue";var mt=ft.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("media-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:3}},[a("div",[t._v("编辑")])])],1),a("div",{staticClass:"videoInfo"},[a("embed",{attrs:{src:"https://player.youku.com/player.php/sid/XMTQ3MjM5Mjc0MA==/v.swf",allowFullScreen:"true",quality:"high",width:"732",height:"403",align:"middle",allowScriptAccess:"always",type:"application/x-shockwave-flash"}})]),a("div",[a("el-button",{staticClass:"addManual",attrs:{plain:"",size:"mini"}},[t._v("添加手动裁剪")]),a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{plain:"",size:"mini"}},[t._v("\n                        自动切分为iTalk\n                    ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("每一句")]),a("el-dropdown-item",[t._v("每二句")])],1)],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isShowCut,expression:"isShowCut"}],staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"}},[t._v("切分")])],1),a("div",{staticClass:"cutList"},[a("div",{staticClass:"manual"},[a("div",{staticClass:"manualTitle"},[t._v("手动裁剪")]),a("el-row",{staticClass:"manualList",attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",[a("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"27px"}})])]),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}}),t._v("\n                                -\n                                "),a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"25px"}})])])],1)],1),a("div",[a("div",{staticClass:"manualTitle"},[t._v("自动切分iTalk (42个片段)")]),a("el-row",{staticClass:"manualList",attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",[a("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"27px"}})])]),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}}),t._v("\n                                -\n                                "),a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"25px"}})])])],1),a("el-row",{staticClass:"manualList",attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",[a("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"27px"}})])]),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}}),t._v("\n                                -\n                                "),a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"25px"}})])])],1)],1)])],1),a("el-footer")],1)],1)},vt=[],gt={name:"edit-media-info",components:{MediaAside:dt},data:function(){return{isShowCut:!1}}},bt=gt,yt=(a("0369"),Object(d["a"])(bt,ht,vt,!1,null,"e264fbc6",null));yt.options.__file="EditMaterialInfo.vue";var wt=yt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[t._v("\n                        iWords\n                    ")])]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"搜索标题、摘要、字幕，支持中英文关键词","suffix-icon":"el-icon-search"}})],1)],1),a("filter-list",{attrs:{listType:"word",filterList:t.filterList}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.jumpPage("/editIWordInfo/new")}}},[t._v("添加")]),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.wordsList,"tooltip-effect":"dark"},on:{"selection-change":function(t){}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.title))]}}])}),a("el-table-column",{attrs:{prop:"_id",label:"ID"}}),a("el-table-column",{attrs:{prop:"difficulty",label:"难度"},scopedSlots:t._u([{key:"default",fn:function(e){return["simple"===e.row.difficulty?a("span",[t._v("初级")]):t._e(),"easily"===e.row.difficulty?a("span",[t._v("中级")]):t._e(),"difficulty"===e.row.difficulty?a("span",[t._v("高级")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("span",[t._v("未发布")]):t._e(),1===e.row.status?a("span",[t._v("待发布")]):t._e(),2===e.row.status?a("span",[t._v("已发布")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.jumpPage("/editIWordInfo/"+e.row._id)}}},[t._v("编辑\n                        ")]),a("el-dropdown",{staticClass:"dropdown-edit",attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                            发布"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"release",value:e.row}}},[t._v("发布")]),a("el-dropdown-item",{attrs:{command:{key:"time",value:e.row}}},[t._v("定时发布")])],1)],1)]}}])})],1)],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.paginationNum},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),a("release-timing",{attrs:{isShow:t.isShowSetTime,id:t.currentId},on:{hideTiming:function(e){t.isShowSetTime=!1}}})],1)],1)},_t=[],kt={components:{FilterList:_,ReleaseTiming:M,LeftAside:j},data:function(){return{wordsList:[],multipleSelection:[],currentPage:1,isShowSetTime:!1,paginationNum:0,filterList:{},currentId:""}},mounted:function(){this.init()},methods:{init:function(){this.getWordsListData(),this.getWordsNumData()},getWordsListData:function(){var t=this;this.$axios.get("/lesson/_find",{params:{page:this.currentPage,category:"word"}}).then(function(e){console.log(e),e.data.code||(t.wordsList=e.data.data)})},getWordsNumData:function(){var t=this;this.$axios.get("/lesson/_getnum",{params:{page:this.currentPage,category:"word"}}).then(function(e){t.paginationNum=e.data.data})},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.getWordsListData()},jumpPage:function(t){this.$router.push(t)},handleCommand:function(t){"time"===t.key?(this.isShowSetTime=!0,this.currentId=t.value._id):this.postUpdateWordData(t.value)},postUpdateWordData:function(t){var e=this,a=new FormData;a.append("lessonId",t._id),a.append("status",2),this.$axios.post("/lesson/_update",a).then(function(t){console.log(t),t.data.code||e.getWordsListData()})}}},Tt=kt,St=(a("ac27"),Object(d["a"])(Tt,xt,_t,!1,null,"6625d16a",null));St.options.__file="IWordsList.vue";var It=St.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"标题",size:"mini"},model:{value:t.iWordTitle,callback:function(e){t.iWordTitle=e},expression:"iWordTitle"}})],1),a("div",{staticStyle:{float:"right"}},[a("div",[a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small"},on:{click:t.postWordsData}},[t._v("保存草稿\n                        ")]),a("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small",trigger:"click"},on:{click:t.postReleaseData,command:t.handleCommand}},[t._v("发布\n                            "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"time",value:""}}},[t._v("定时发布")])],1)],1)],1)])],1),a("el-row",{staticClass:"workInfoMain",attrs:{type:"flex"}},[a("el-col",{attrs:{span:11}},[a("p",[t._v("Markdown\n                        "),a("el-button",{staticStyle:{"margin-left":"30px",padding:"0"},attrs:{type:"text"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("插入媒体\n                        ")])],1),a("div",[a("el-input",{style:{height:t.currentHeight+"px"},attrs:{type:"textarea"},on:{change:t.changeMarkDown},model:{value:t.markdownInfo,callback:function(e){t.markdownInfo=e},expression:"markdownInfo"}})],1)]),a("el-col",{attrs:{span:11,offset:1}},[a("p",[t._v("渲染预览")]),a("div",{staticClass:"workInfoShow",style:{height:t.currentHeight+"px"}},[a("vue-markdown",{staticClass:"markdownInfo",attrs:{source:t.showInfo}})],1)])],1),a("release-timing",{attrs:{isShow:t.isShowSetTime,id:t.$route.params.id},on:{hideTiming:function(e){t.isShowSetTime=!1}}})],1),a("el-dialog",{attrs:{title:"媒体库",width:"95%",top:"5vh",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("filter-list",{attrs:{listType:"media","filter-list":t.filterList},on:{filterMediaList:t.filterMediaList}}),a("media-list",{attrs:{"table-type":"mediaDia","media-list":t.mediaList,"current-page":t.currentPage},on:{select:t.handleSelectChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.paginationNum},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.createMDInfo}},[t._v("确 定")])],1)],1)],1)],1)},Mt=[],zt=(a("5df3"),{components:{ReleaseTiming:M,LeftAside:j,FilterList:_,MediaList:E},data:function(){return{iWordTitle:"",markdownInfo:"",currentHeight:0,showInfo:"",isShowSetTime:!1,dialogTableVisible:!1,filterList:{},mediaList:[],currentPage:1,paginationNum:0,currentSelect:[]}},mounted:function(){this.init()},methods:{init:function(){this.currentHeight=window.innerHeight-250,"new"!==this.$route.params.id&&this.getOneWordsData(),this.getMediaListData()},getMediaListData:function(t){var e=this;t=t||{},t.page=this.currentPage,this.$axios.get("/material/_find",{params:t}).then(function(t){t.data.code||(e.mediaList=t.data.data)}),this.getMediaNumData(t)},getMediaNumData:function(t){var e=this;t=t||{},this.$axios.get("/material/_getnum",{params:t}).then(function(t){e.paginationNum=t.data.data})},getOneWordsData:function(){var t=this;this.$axios.get("/lesson/_getone",{params:{lessonId:this.$route.params.id}}).then(function(e){e.data.code||(console.log(e.data.data),t.iWordTitle=e.data.data.title||"",t.markdownInfo=e.data.data.cms)})},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.getMediaListData()},handleCommand:function(t){"time"===t.key&&(this.isShowSetTime=!0)},filterMediaList:function(){},postWordsData:function(){"new"===this.$route.params.id?this.postAddWordsData():this.postUpdateWordsData()},postAddWordsData:function(){var t=this,e=new FormData;e.append("cms",this.markdownInfo),e.append("zhTitle",this.iWordTitle),e.append("category","word"),e.append("status",0),this.$axios.post("/lesson/_add",e).then(function(e){console.log(e),e.data.code||t.$message.success("添加成功")})},postUpdateWordsData:function(){var t=this,e=new FormData;e.append("lessonId",this.$route.params.id),e.append("cms",this.markdownInfo),e.append("zhTitle",this.iWordTitle),this.$axios.post("/lesson/_update",e).then(function(e){console.log(e),e.data.code||t.$message.success("更新成功")})},postReleaseData:function(){var t=this,e=new FormData;e.append("lessonId",this.$route.params.id),e.append("status",2),this.$axios.post("/lesson/_update",e).then(function(e){console.log(e),e.data.code||t.$message.success("发布成功")})},handleSelectChange:function(t){var e=this,a=[];t.forEach(function(t){a.push(e.getOneFile(t.fileId))}),Promise.all(a).then(function(t){console.log(t),e.currentSelect=t})},getOneFile:function(t){var e=this;return new Promise(function(a,i){e.$axios.get("/file/_getone",{params:{fileId:t}}).then(function(t){t.data.code||a(t.data.data)})})},createMDInfo:function(){var t="";this.currentSelect.forEach(function(e){var a=e.fileName.substring(e.fileName.length-4);".mp3"===a?t+="![audio]("+e.fileUrl+")\n":"mp4"===a&&(t+="![video]("+e.fileUrl+")\n")}),this.markdownInfo+=t,this.dialogTableVisible=!1},changeMarkDown:function(){var t=/!+\[audio]/gi,e=/\.mp3\)/gi,a=/!+\[video]/gi,i=/\.mp4\)/gi,n=this.markdownInfo;while(null!=a.exec(n)){i.exec(n);var o=n.substring(a.lastIndex+1,i.lastIndex-1),l='<video id="video'.concat(a.lastIndex,'" controls="" preload="none" poster="">\n  <source id="mp4').concat(a.lastIndex,'" src="').concat(o,'" type="video/mp4"></video>');-1!==a&&(n=n.substr(0,a.lastIndex-8)+l+n.substr(i.lastIndex,n.length-1))}while(null!=t.exec(n)){e.exec(n);var s=n.substring(t.lastIndex+1,e.lastIndex-1),r='<audio id="audio'.concat(t.lastIndex,'" controls="" preload="none">\n                <source id="mp3').concat(t.lastIndex,'" src="').concat(s,'"></audio>');-1!==s&&(n=n.substr(0,t.lastIndex-8)+r+n.substr(e.lastIndex,n.length-1))}this.showInfo=n}},watch:{markdownInfo:function(t,e){this.changeMarkDown()}}}),$t=zt,Ct=(a("9246"),Object(d["a"])($t,Lt,Mt,!1,null,"e0c633d8",null));Ct.options.__file="EditIWordInfo.vue";var Ft=Ct.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[t._v("\n                        iTalkList\n                    ")])]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"搜索标题、摘要、字幕，支持中英文关键词","suffix-icon":"el-icon-search"}})],1)],1),a("filter-list",{attrs:{listType:"talk","filter-list":t.filterList}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.talkList,"tooltip-effect":"dark"},on:{"selection-change":function(t){}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),a("el-table-column",{attrs:{prop:"_id",label:"ID"}}),a("el-table-column",{attrs:{prop:"difficulty",label:"难度"},scopedSlots:t._u([{key:"default",fn:function(e){return["simple"===e.row.difficulty?a("span",[t._v("初级")]):t._e(),"easily"===e.row.difficulty?a("span",[t._v("中级")]):t._e(),"difficulty"===e.row.difficulty?a("span",[t._v("高级")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("span",[t._v("未发布")]):t._e(),1===e.row.status?a("span",[t._v("待发布")]):t._e(),2===e.row.status?a("span",[t._v("已发布")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.jumpPage("/showITalkInfo/"+e.row._id)}}},[t._v("编辑")]),a("el-dropdown",{staticClass:"dropdown-edit",attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                            发布"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"release",value:""}}},[t._v("发布")]),a("el-dropdown-item",{attrs:{command:{key:"time",value:""}}},[t._v("定时发布")])],1)],1)]}}])})],1)],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.paginationNum},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),a("release-timing",{attrs:{isShow:t.isShowSetTime},on:{hideTiming:function(e){t.isShowSetTime=!1}}})],1)],1)},jt=[],Pt={components:{FilterList:_,ReleaseTiming:M,LeftAside:j},data:function(){return{talkList:[],multipleSelection:[],currentPage:1,isShowSetTime:!1,filterList:{},paginationNum:0}},mounted:function(){this.init()},methods:{init:function(){this.getTalkListData(),this.getTalkNumData()},getTalkListData:function(){var t=this;this.$axios.get("/lesson/_find",{params:{page:this.currentPage,category:"talk"}}).then(function(e){console.log(e),e.data.code||(t.talkList=e.data.data)})},getTalkNumData:function(){var t=this;this.$axios.get("/lesson/_getnum",{params:{page:this.currentPage,category:"talk"}}).then(function(e){t.paginationNum=e.data.data})},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.getTalkListData()},jumpPage:function(t){console.log(t),this.$router.push(t)},handleCommand:function(t){console.log(t),"time"===t.key&&(this.isShowSetTime=!0)}}},Ot=Pt,Wt=(a("3225"),Object(d["a"])(Ot,Dt,jt,!1,null,"8105c698",null));Wt.options.__file="ITalkList.vue";var Nt=Wt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[t._v("\n                    标题\n                ")]),a("div",{staticStyle:{float:"right"}},[a("div",[a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small"},on:{click:function(e){t.jumpPage("/editMediaInfo/"+t.$route.params.id)}}},[t._v("查看源素材\n                        ")]),a("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small",trigger:"click"},on:{command:t.handleCommand}},[t._v("发布\n                            "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"time",value:""}}},[t._v("定时发布")])],1)],1)],1)])],1),a("el-row",{staticClass:"talkInfo"},[a("el-col",{attrs:{span:3}},[a("div",[t._v("难度")]),a("div",[t._v("英文字幕")]),a("div",[t._v("标签")])]),a("el-col",{attrs:{span:12}},[a("div",[t._v("初级")]),a("div",[t._v("I know a repetitive song when I hear one, but translating that intuition into a number\n                        isn't\n                        easy.\n                    ")]),a("div",[t._v("魔方秀")])])],1),a("embed",{attrs:{src:"https://player.youku.com/player.php/sid/XMTQ3MjM5Mjc0MA==/v.swf",allowFullScreen:"true",quality:"high",width:"480",height:"400",align:"middle",allowScriptAccess:"always",type:"application/x-shockwave-flash"}}),a("release-timing",{attrs:{isShow:t.isShowSetTime},on:{hideTiming:function(e){t.isShowSetTime=!1}}})],1)],1)],1)},Et=[],At={components:{ReleaseTiming:M,LeftAside:j},data:function(){return{isShowSetTime:!1}},mounted:function(){this.getOneTalkData()},methods:{jumpPage:function(t){this.$router.push(t)},handleCommand:function(t){console.log(t),"time"===t.key&&(this.isShowSetTime=!0)},getOneTalkData:function(){this.$axios.get("/lesson/_getone",{params:{lessonId:this.$route.params.id}}).then(function(t){t.data.code||console.log(t.data.data)})}}},Ut=At,Rt=(a("abe9"),Object(d["a"])(Ut,Vt,Et,!1,null,"3bfdcb03",null));Rt.options.__file="ShowITalkInfo.vue";var Bt=Rt.exports;i["default"].use(m["a"]);var Ht=new m["a"]({routes:[{path:"/",name:"MediaList",component:B},{path:"/mediaList",name:"MediaList",component:B},{path:"/editMediaInfo/:id",name:"EditMediaInfo",component:mt},{path:"/editMaterialInfo/:id",name:"EditMaterialInfo",component:wt},{path:"/iWordsList",name:"IWordsList",component:It},{path:"/editIWordInfo/:id",name:"EditIWordInfo",component:Ft},{path:"/iTalkList",name:"ITalkList",component:Nt},{path:"/showITalkInfo/:id",name:"ShowITalkInfo",component:Bt}]}),qt=a("2f62");i["default"].use(qt["a"]);var Jt=new qt["a"].Store({state:{},mutations:{},actions:{}}),Qt=a("bc3a"),Xt=a.n(Qt),Yt=a("a7fe"),Gt=a.n(Yt);i["default"].config.productionTip=!1,i["default"].use(o.a),i["default"].use(Gt.a,Xt.a),i["default"].component("VueMarkdown",s.a),Xt.a.defaults.baseURL="http://188.131.179.172:3000",Xt.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",i["default"].prototype.$axios=Xt.a,new i["default"]({router:Ht,store:Jt,render:function(t){return t(f)}}).$mount("#app")},"5b70":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".el-dropdown-link[data-v-6625d16a]{cursor:pointer;color:#409eff;font-size:12px}.dropdown-edit[data-v-6625d16a]{margin-left:5px}",""])},"653f":function(t,e,a){var i=a("c21b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("36719048",i,!0,{sourceMap:!1,shadowMode:!1})},"7b24":function(t,e,a){var i=a("06ba");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("1ca10a0a",i,!0,{sourceMap:!1,shadowMode:!1})},8218:function(t,e,a){"use strict";var i=a("2da3"),n=a.n(i);n.a},9246:function(t,e,a){"use strict";var i=a("d3d6"),n=a.n(i);n.a},"99ed":function(t,e,a){var i=a("f87e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("05dcb2b2",i,!0,{sourceMap:!1,shadowMode:!1})},"9d4b":function(t,e,a){var i=a("0575");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("7f642a6d",i,!0,{sourceMap:!1,shadowMode:!1})},"9fc9":function(t,e,a){"use strict";var i=a("a7a2"),n=a.n(i);n.a},a5cf:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".backBlock[data-v-21953c32]{padding:20px;font-size:14px}.backText[data-v-21953c32]{margin-left:10px}.editBlock[data-v-21953c32]{padding:0 20px}aside[data-v-21953c32]{width:200px;height:-webkit-fill-available;border-right:1px solid #e6e6e6}",""])},a729:function(t,e,a){var i=a("aeb5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("34905374",i,!0,{sourceMap:!1,shadowMode:!1})},a730:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"",""])},a7a2:function(t,e,a){var i=a("a5cf");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("898a0648",i,!0,{sourceMap:!1,shadowMode:!1})},abe9:function(t,e,a){"use strict";var i=a("437d"),n=a.n(i);n.a},ac27:function(t,e,a){"use strict";var i=a("bb92"),n=a.n(i);n.a},aeb5:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"",""])},af55:function(t,e,a){"use strict";var i=a("e572"),n=a.n(i);n.a},bad4:function(t,e,a){"use strict";var i=a("7b24"),n=a.n(i);n.a},bb92:function(t,e,a){var i=a("5b70");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("505b7b19",i,!0,{sourceMap:!1,shadowMode:!1})},c21b:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".cutList[data-v-e264fbc6]{padding:40px 0}.videoInfo[data-v-e264fbc6]{margin:40px 0}.addManual[data-v-e264fbc6]{margin-right:15px}.manual[data-v-e264fbc6]{margin-bottom:40px}.manualTitle[data-v-e264fbc6]{color:#a8a8a8;font-size:12px;text-align:left}.manualList[data-v-e264fbc6]{margin-top:10px}",""])},c347:function(t,e,a){var i=a("cc21");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("2dc3d120",i,!0,{sourceMap:!1,shadowMode:!1})},cc21:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".am-form-file[data-v-bd2c57e2]{position:relative;overflow:hidden}.am-form-file input[type=file][data-v-bd2c57e2]{position:absolute;z-index:1;left:0;opacity:0;width:56px;height:28px;cursor:pointer}",""])},d3d6:function(t,e,a){var i=a("fbfe");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("beb68c60",i,!0,{sourceMap:!1,shadowMode:!1})},e2a1:function(t,e,a){var i=a("3f8c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("1f50beb8",i,!0,{sourceMap:!1,shadowMode:!1})},e302:function(t,e,a){"use strict";var i=a("10f0"),n=a.n(i);n.a},e572:function(t,e,a){var i=a("158b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("4d8397ad",i,!0,{sourceMap:!1,shadowMode:!1})},e71e:function(t,e,a){"use strict";var i=a("a729"),n=a.n(i);n.a},f2ae:function(t,e,a){"use strict";var i=a("13fb"),n=a.n(i);n.a},f87e:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}",""])},fbfe:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".workInfoMain[data-v-e0c633d8]{margin-top:46px;font-size:13px}.workInfoMain p[data-v-e0c633d8]{margin-bottom:8px}.workInfoShow[data-v-e0c633d8]{overflow-y:auto;border:1px solid #dcdfe6;border-radius:5px;min-height:20px}.markdownInfo[data-v-e0c633d8]{padding:5px 15px}",""])},fc1d:function(t,e,a){var i=a("4e95");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("bcadc3e4",i,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=app.38dc02b1.js.map