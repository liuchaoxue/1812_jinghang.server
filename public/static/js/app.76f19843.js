(function(e){function t(t){for(var i,s,l=t[0],r=t[1],c=t[2],u=0,p=[];u<l.length;u++)s=l[u],n[s]&&p.push(n[s][0]),n[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,l=1;l<a.length;l++){var r=a[l];0!==n[r]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},o=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var i=a("e2a1"),n=a.n(i);n.a},"0369":function(e,t,a){"use strict";var i=a("653f"),n=a.n(i);n.a},"13f7":function(e,t,a){"use strict";var i=a("8628"),n=a.n(i);n.a},"18c3":function(e,t,a){"use strict";var i=a("ba42"),n=a.n(i);n.a},"199f":function(e,t,a){"use strict";var i=a("ec3a"),n=a.n(i);n.a},2173:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".sourceInfo[data-v-507f0dd5]{color:#888;font-size:14px;text-align:left;margin:20px 0}.typeTitle[data-v-507f0dd5]{margin-right:15px;font-size:14px}",""])},"23a2":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".el-select[data-v-2ab39dfe]{width:150px;margin:0 5px}",""])},"26a1":function(e,t,a){var i=a("57b1");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("ac221d16",i,!0,{sourceMap:!1,shadowMode:!1})},"26b5":function(e,t,a){var i=a("9ba9");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("e5766fec",i,!0,{sourceMap:!1,shadowMode:!1})},"2c9b":function(e,t,a){var i=a("2173");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("170d6be6",i,!0,{sourceMap:!1,shadowMode:!1})},"3b7c":function(e,t,a){var i=a("c8db");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("3d9951b8",i,!0,{sourceMap:!1,shadowMode:!1})},"3f43":function(e,t,a){var i=a("5d54");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("771db23c",i,!0,{sourceMap:!1,shadowMode:!1})},"3f8c":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;min-width:1210px}p{margin:0}textarea{height:inherit}.timingMain .el-dialog__body{border-top:1px solid #bbb;border-bottom:1px solid #bbb}.el-main{padding:20px 40px}.el-menu-item-group__title{padding:0}.workInfoShow audio,.workInfoShow img,.workInfoShow video{width:55%}",""])},4131:function(e,t,a){"use strict";var i=a("8f30"),n=a.n(i);n.a},"41f8":function(e,t,a){var i=a("ff11");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("e0549bb8",i,!0,{sourceMap:!1,shadowMode:!1})},"43c6":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".backBlock[data-v-8103fe3c]{padding:20px;font-size:14px;cursor:pointer}.backText[data-v-8103fe3c]{margin-left:10px}.editBlock[data-v-8103fe3c]{padding:0 20px}aside[data-v-8103fe3c]{width:200px;height:-webkit-fill-available;border-right:1px solid #e6e6e6}",""])},"480b":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".table-primary[data-v-33e9641f]{white-space:nowrap;width:150px;overflow:hidden;text-overflow:ellipsis}",""])},"515c":function(e,t,a){"use strict";var i=a("26a1"),n=a.n(i);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var i=a("2b0e"),n=a("5c96"),o=a.n(n),s=(a("0fae"),a("99ed"),a("9ce6")),l=a.n(s),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],d=(a("034f"),a("2877")),u={},p=Object(d["a"])(u,r,c,!1,null,null,null);p.options.__file="App.vue";var f=p.exports,m=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[e._v("\n                        媒体库\n                    ")])])],1),a("filter-list",{attrs:{listType:"media","filter-list":e.filterList,"label-list":e.labelList},on:{filterMediaList:e.filterMediaList}}),a("div",{staticClass:"am-form-file"},[a("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"primary"}},[e._v("上传")]),a("input",{ref:"myFiles",attrs:{type:"file",multiple:"",accept:"audio/mp3, video/mp4, image/jpg, image/png, image/gif"},on:{change:e.changeUploadList}})],1),a("media-list",{attrs:{"table-type":"media","media-list":e.mediaList,"current-page":e.currentPage},on:{delMediaInfo:e.delMediaInfo}})],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.paginationSize,layout:"total, prev, pager, next",total:e.paginationNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1),a("el-dialog",{staticClass:"dialogUpload",attrs:{title:"上传文件",visible:e.dialogUploadVisible,width:"50%"},on:{"update:visible":function(t){e.dialogUploadVisible=t}}},[a("div",{staticStyle:{border:"1px solid #bbb","min-height":"200px"}},[a("div",{staticStyle:{padding:"10px"}},e._l(e.fileList,function(t,i){return a("div",{key:i},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:18}},[a("div",[a("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(t.name))]),a("el-progress",{attrs:{"stroke-width":3,percentage:t.num,status:100===t.num?"success":"text"}},[e._v(e._s(t.num)+"%\n                                    ")])],1)]),a("el-col",{attrs:{span:4}},[a("div",[""!==t.id?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){e.jumpNewPage(t.id)}}},[e._v("查看\n                                    ")]):e._e()],1)])],1)],1)}),0)]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.hideUploadDia}},[e._v("完成")])],1)])],1)],1)},g=[],v=(a("7f7f"),a("ac6a"),a("8615"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{padding:"25px 0"}},[a("el-col",[a("el-input",{staticStyle:{width:"25%"},attrs:{size:"small",placeholder:"搜索标题、摘要、字幕，支持中英文关键词","suffix-icon":"el-icon-search"},model:{value:e.filterList.title,callback:function(t){e.$set(e.filterList,"title",t)},expression:"filterList.title"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"media"===e.listType,expression:"listType === 'media'"}],attrs:{"default-first-option":"",value:"",size:"small",placeholder:"类型（iFun iTalk..）"},model:{value:e.filterList.category,callback:function(t){e.$set(e.filterList,"category",t)},expression:"filterList.category"}},[a("el-option",{attrs:{label:"iFun",value:"fun"}}),a("el-option",{attrs:{label:"iTalk",value:"talk"}}),a("el-option",{attrs:{label:"iListen",value:"listen"}}),a("el-option",{attrs:{label:"iWords",value:"word"}})],1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"fun"===e.listType,expression:"listType === 'fun'"}],attrs:{placeholder:"分类",value:"",size:"small"},model:{value:e.filterList.class,callback:function(t){e.$set(e.filterList,"class",t)},expression:"filterList.class"}},e._l(e.iFunTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"word"===e.listType,expression:"listType === 'word'"}],attrs:{placeholder:"分类",value:"",size:"small"},model:{value:e.filterList.class,callback:function(t){e.$set(e.filterList,"class",t)},expression:"filterList.class"}},e._l(e.iWordTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"media"===e.listType,expression:"listType === 'media'"}],attrs:{placeholder:"来源",value:"",size:"small"},model:{value:e.filterList.source,callback:function(t){e.$set(e.filterList,"source",t)},expression:"filterList.source"}}),a("el-select",{attrs:{placeholder:"难度",value:"",size:"small"},model:{value:e.filterList.difficulty,callback:function(t){e.$set(e.filterList,"difficulty",t)},expression:"filterList.difficulty"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),a("el-option",{attrs:{label:"初级",value:"1"}}),a("el-option",{attrs:{label:"中级",value:"2"}}),a("el-option",{attrs:{label:"高级",value:"3"}}),"talk"===e.listType?a("el-option",{attrs:{label:"彩蛋题",value:"4"}}):e._e()],1),a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",value:"",size:"small",placeholder:"标签"},model:{value:e.filterList.label,callback:function(t){e.$set(e.filterList,"label",t)},expression:"filterList.label"}},e._l(e.labelList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"media"!==e.listType,expression:"listType !== 'media'"}],attrs:{placeholder:"状态",value:"",size:"small"},model:{value:e.filterList.status,callback:function(t){e.$set(e.filterList,"status",t)},expression:"filterList.status"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),a("el-option",{attrs:{label:"未发布",value:"1"}}),a("el-option",{attrs:{label:"待发布",value:"2"}}),a("el-option",{attrs:{label:"待发布",value:"3"}})],1),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.filterMediaList}},[e._v("查找")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.clearAll}},[e._v("清除筛选")])],1)],1)}),b=[],y=(a("456d"),{name:"filter-list-item",props:{listType:String,filterList:Object,labelList:Array},data:function(){return{iFunTypeList:{funny:"搞笑",movie:"电影",entertainment:"娱乐",culture:"文化",travel:"旅行",arts:"艺术",foods:"美食",sports:"运动",technology:"科技"},iWordTypeList:{lifeStyle:"有型生活",oversea:"海外生存",date:"约会妙计",tourGuide:"旅游指南",serious:"正经一下",series:"电影美剧",dailyWord:"每日一词"}}},mounted:function(){},methods:{clearAll:function(){var e=this;Object.keys(this.filterList).forEach(function(t){e.filterList[t]=""})},filterMediaList:function(){this.$emit("filterMediaList",this.filterList)}}}),w=y,x=(a("da1b"),Object(d["a"])(w,v,b,!1,null,"2ab39dfe",null));x.options.__file="FilterListItem.vue";var _=x.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"200px"}},[a("el-row",{staticClass:"tac"},[a("el-col",[a("el-menu",{attrs:{"default-active":e.defaultActive,"default-openeds":["cms"],router:""},on:{open:e.handleOpen,close:e.handleClose}},[a("el-submenu",{attrs:{index:"cms"}},[a("template",{slot:"title"},[a("span",[e._v("CMS")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/iFunList"}},[e._v("iFun")]),a("el-menu-item",{attrs:{index:"/iTalkList"}},[e._v("iTalk")]),a("el-menu-item",{attrs:{index:"/",disabled:""}},[e._v("iListen")]),a("el-menu-item",{attrs:{index:"/iWordsList"}},[e._v("iWords")])],1)],2),a("el-menu-item",{attrs:{index:"/mediaList"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("媒体库")])])],1)],1)],1)],1)},L=[],k={data:function(){return{defaultActive:"cms",defaultRoute:{MediaList:"/mediaList",EditMediaInfo:"/mediaList",IWordsList:"/iWordsList",EditIWordInfo:"/iWordsList",ITalkList:"/iTalkList",ShowITalkInfo:"/iTalkList",ShowIFunInfo:"/iFunList",IFunList:"/iFunList"}}},mounted:function(){this.defaultActive=this.defaultRoute[this.$route.name]},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}},I=k,S=(a("d30e"),Object(d["a"])(I,T,L,!1,null,"967dd402",null));S.options.__file="LeftAsideItem.vue";var $=S.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.mediaList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"zhTitle",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"hover"}},[a("show-media",{staticStyle:{width:"100%",height:"100%"},attrs:{"file-info":t.row,"current-type":t.row.fileUrl.substring(t.row.fileUrl.length-3)}}),a("div",{staticClass:"table-primary",attrs:{slot:"reference",title:t.row.zhTitle},slot:"reference"},[e._v("\n                        "+e._s(t.row.zhTitle)+"\n                    ")])],1)]}}])}),a("el-table-column",{attrs:{prop:"category",label:"类型"}}),a("el-table-column",{attrs:{prop:"difficulty",label:"难度"},scopedSlots:e._u([{key:"default",fn:function(t){return["simple"===t.row.difficulty?a("span",[e._v("初级")]):e._e(),"easily"===t.row.difficulty?a("span",[e._v("中级")]):e._e(),"difficulty"===t.row.difficulty?a("span",[e._v("高级")]):e._e(),"bonus"===t.row.difficulty?a("span",[e._v("彩蛋题")]):e._e()]}}])}),"media"===e.tableType?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.jumpPage("/editMediaInfo/"+t.row._id)}}},[e._v("编辑\n                ")]),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){e.delMediaInfo(t.row._id)}}},[e._v("\n                    刪除\n                ")])]}}])}):e._e()],1)],1)},M=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media"},["mp4"===e.currentType?a("div",{staticClass:"media"},[a("video",{staticClass:"media",attrs:{controls:"",preload:"none",poster:""}},[a("source",{attrs:{src:e.fileInfo.fileUrl,type:"video/mp4"}})])]):e._e(),"jpg"===e.currentType||"png"===e.currentType||"gif"===e.currentType?a("div",{staticClass:"media"},[a("img",{staticClass:"media",attrs:{src:e.fileInfo.fileUrl}})]):e._e(),"mp3"===e.currentType?a("div",{staticClass:"media"},[a("audio",{staticClass:"media",attrs:{controls:"",preload:"none"}},[a("source",{attrs:{src:e.fileInfo.fileUrl,type:"audio/mp3"}})])]):e._e()])},C=[],F={props:{currentType:String,fileInfo:Object}},W=F,j=(a("eb02"),Object(d["a"])(W,D,C,!1,null,"a0ffc0da",null));j.options.__file="ShowMediaItem.vue";var P=j.exports,U={props:{tableType:String,mediaList:Array,newRowList:Array},components:{ShowMedia:P},data:function(){return{}},mounted:function(){},methods:{jumpPage:function(e){this.$router.push(e)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},testToggleSelection:function(e){console.log(e);var t=[];this.mediaList.forEach(function(a){-1!==e.indexOf(a.fileId)&&(console.log(a),t.push(a))}),this.toggleSelection(t)},delMediaInfo:function(e){this.$emit("delMediaInfo",e)},clearSelect:function(){this.$refs.multipleTable.clearSelection()},handleSelectChange:function(e){this.$emit("select",e)}},watch:{}},O=U,A=(a("18c3"),Object(d["a"])(O,z,M,!1,null,"33e9641f",null));A.options.__file="MediaListItem.vue";var V=A.exports,E={components:{FilterList:_,LeftAside:$,MediaList:V},data:function(){return{mediaList:[],multipleSelection:[],currentPage:1,isShowSetTime:!1,fileList:[],dialogUploadVisible:!1,paginationNum:0,filterList:{},paginationSize:10,labelList:[]}},mounted:function(){this.init()},methods:{init:function(){this.getMediaListData()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.getMediaListData()},jumpPage:function(e){this.$router.push(e)},handleCommand:function(e){"time"===e.key&&(this.isShowSetTime=!0)},hideUploadDia:function(){this.fileList=[],this.dialogUploadVisible=!1},getMediaListData:function(e){var t=this;e=e||{},e.page=this.currentPage,e.num=this.paginationSize,this.$axios.get("/material/_find",{params:e}).then(function(e){console.log(e.data.data),e.data.code||(t.mediaList=e.data.data)}),this.getMediaNumData(e)},handleUploadChange:function(){this.dialogUploadVisible=!0},filterMediaList:function(e){var t={page:1,category:e.category||"",enTitle:e.title||"",zhTitle:e.title||"",abstract:e.title||"",enVvt:e.title||"",zhVvt:e.title||"",difficulty:e.difficulty||""};this.getMediaListData(t)},getMediaNumData:function(e){var t=this;e=e||{},this.$axios.get("/material/_getnum",{params:e}).then(function(e){t.paginationNum=e.data.data})},getAllLabelData:function(){var e=this;this.$axios.get("/label/_find").then(function(t){console.log(t.data.data),t.data.code||(e.labelList=t.data.data)})},changeUploadList:function(){var e=this,t=Object.values(this.$refs.myFiles.files);t.forEach(function(t){e.fileList.push({name:t.name,num:0,id:""})}),this.postUploadData(0,t)},postUploadData:function(e,t){var a=this,i=new FormData;i.append("file",t[e]),this.handleUploadChange(),this.$axios.post("/file/_upload",i,{onUploadProgress:function(t){this.fileList[e].num=parseInt(Math.round(100*t.loaded/t.total))}.bind(this)}).then(function(i){0===i.data.code&&i.data.data[0]&&(a.$message.success("上传成功"),a.fileList[e].id=i.data.data[0].material._id,a.getMediaListData(),e+=1,e<=t.length-1?a.postUploadData(e,t):a.$refs.myFiles.value="")})},jumpNewPage:function(e){window.open("#/editMediaInfo/"+e,"_blank")},delMediaInfo:function(e){var t=this;this.$confirm("文件将被直接删除,可能导致引用该媒体的文档失效。","确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(function(){t.delMediaData(e)}).catch(function(){})},delMediaData:function(e){var t=this;this.$axios.get("/material/_delete",{params:{materialId:e}}).then(function(e){e.data.code||(t.$message({type:"success",message:"已删除"}),t.init())})}}},N=E,R=(a("515c"),Object(d["a"])(N,h,g,!1,null,"7d9d5653",null));R.options.__file="MediaList.vue";var B=R.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("media-aside",{attrs:{"file-info":e.fileInfo}}),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:3}},[a("div",[e._v("基本信息")])]),a("el-col",{attrs:{span:5}},[a("div",[a("el-button",{attrs:{size:"small"},on:{click:e.postCreateCMSData}},[e._v("生成CMS文章")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.postMediaInfoData()}}},[e._v("保存")])],1)])],1),a("div",{staticStyle:{margin:"40px 0"}},[a("span",{staticClass:"typeTitle"},[e._v("类型")]),a("el-select",{attrs:{placeholder:"请选择",value:"",size:"mini"},model:{value:e.currentType,callback:function(t){e.currentType=t},expression:"currentType"}},[a("el-option",{attrs:{label:"iFun",value:"iFun"}}),a("el-option",{attrs:{label:"iTalk",value:"iTalk"}}),a("el-option",{attrs:{label:"iListen",value:"iListen",disabled:""}}),a("el-option",{attrs:{label:"iWords",value:"iWord",disabled:""}})],1)],1),a("talk-info",{ref:"talkForm",attrs:{type:e.currentType,form:e.iTalkForm,"label-list":e.labelList}}),a("fun-info",{ref:"funForm",attrs:{type:e.currentType,form:e.iFunForm,"label-list":e.labelList}})],1)],1)],1)},H=[],Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"iTalk"===e.type?a("el-container",[a("el-form",{ref:"ruleForm",staticStyle:{width:"100%"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中文标题",prop:"zhTitle"}},[a("el-input",{attrs:{placeholder:"中文标题"},model:{value:e.form.zhTitle,callback:function(t){e.$set(e.form,"zhTitle",t)},expression:"form.zhTitle"}})],1),a("el-form-item",{attrs:{label:"中文字幕",prop:"zhVvt"}},[a("el-input",{attrs:{placeholder:"中文字幕"},model:{value:e.form.zhVvt,callback:function(t){e.$set(e.form,"zhVvt",t)},expression:"form.zhVvt"}})],1),a("el-form-item",{attrs:{label:"英文字幕",prop:"enVvt"}},[a("el-input",{attrs:{placeholder:"英文字幕"},model:{value:e.form.enVvt,callback:function(t){e.$set(e.form,"enVvt",t)},expression:"form.enVvt"}})],1),a("el-form-item",{attrs:{label:"标签",prop:"label"}},[a("el-select",{attrs:{value:"",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择标签"},model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}},e._l(e.labelList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:6,offset:2}},[a("el-form-item",{attrs:{label:"难度",prop:"difficulty"}},[a("el-select",{attrs:{placeholder:"难度",value:""},model:{value:e.form.difficulty,callback:function(t){e.$set(e.form,"difficulty",t)},expression:"form.difficulty"}},[a("el-option",{attrs:{label:"初级",value:"simple"}}),a("el-option",{attrs:{label:"中级",value:"easily"}}),a("el-option",{attrs:{label:"高级",value:"difficulty"}}),a("el-option",{attrs:{label:"彩蛋题",value:"bonus"}})],1)],1)],1)],1)],1)],1):e._e()},G=[],J={props:{type:String,form:Object,labelList:Array},data:function(){return{rules:{zhTitle:[{required:!0,message:"请输入",trigger:"blur"}],zhVvt:[{required:!0,message:"请输入",trigger:"blur"}],enVvt:[{required:!0,message:"请输入",trigger:"blur"}],difficulty:[{required:!0,message:"请输入",trigger:"change"}]}}},methods:{submitForm:function(e){var t=this;return new Promise(function(a,i){t.$refs[e].validate(function(e){if(!e)return t.$message.warning("请检查字段是否填写完整！"),!1;a(!0)})})}}},Q=J,X=(a("ee8b"),Object(d["a"])(Q,Y,G,!1,null,"98bcb9c2",null));X.options.__file="TalkInfoItem.vue";var K=X.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"iFun"===e.type?a("el-container",[a("el-form",{ref:"ruleForm",staticStyle:{width:"100%"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中文标题",prop:"zhTitle"}},[a("el-input",{attrs:{placeholder:"中文标题"},model:{value:e.form.zhTitle,callback:function(t){e.$set(e.form,"zhTitle",t)},expression:"form.zhTitle"}})],1),a("el-form-item",{attrs:{label:"英文标题",prop:"enTitle"}},[a("el-input",{attrs:{placeholder:"英文标题"},model:{value:e.form.enTitle,callback:function(t){e.$set(e.form,"enTitle",t)},expression:"form.enTitle"}})],1),a("el-form-item",{attrs:{label:"摘要",prop:"abstract"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"摘要"},model:{value:e.form.abstract,callback:function(t){e.$set(e.form,"abstract",t)},expression:"form.abstract"}})],1),a("el-form-item",{attrs:{label:"标签",prop:"label"}},[a("el-select",{attrs:{value:"",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择标签"},model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}},e._l(e.labelList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"中文字幕",prop:"zhVvt"}},[a("el-input",{attrs:{placeholder:"中文字幕"},model:{value:e.form.zhVvt,callback:function(t){e.$set(e.form,"zhVvt",t)},expression:"form.zhVvt"}})],1),a("el-form-item",{attrs:{label:"英文字幕",prop:"enVvt"}},[a("el-input",{attrs:{placeholder:"英文字幕"},model:{value:e.form.enVvt,callback:function(t){e.$set(e.form,"enVvt",t)},expression:"form.enVvt"}})],1)],1),a("el-col",{attrs:{span:6,offset:2}},[a("el-form-item",{attrs:{label:"分类",prop:"class"}},[a("el-select",{attrs:{placeholder:"分类",value:""},model:{value:e.form.class,callback:function(t){e.$set(e.form,"class",t)},expression:"form.class"}},e._l(e.iFunTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),a("el-form-item",{attrs:{label:"难度",prop:"difficulty"}},[a("el-select",{attrs:{placeholder:"难度",value:""},model:{value:e.form.difficulty,callback:function(t){e.$set(e.form,"difficulty",t)},expression:"form.difficulty"}},[a("el-option",{attrs:{label:"初级",value:"simple"}}),a("el-option",{attrs:{label:"中级",value:"easily"}}),a("el-option",{attrs:{label:"高级",value:"difficulty"}})],1)],1)],1)],1)],1)],1):e._e()},ee=[],te={props:{type:String,form:{type:Object,default:function(){return{}}},labelList:Array},data:function(){return{iFunTypeList:{funny:"搞笑",movie:"电影",entertainment:"娱乐",culture:"文化",travel:"旅行",arts:"艺术",foods:"美食",sports:"运动",technology:"科技"},rules:{zhTitle:[{required:!0,message:"请输入",trigger:"blur"}],enTitle:[{required:!0,message:"请输入",trigger:"blur"}],abstract:[{required:!0,message:"请输入",trigger:"blur"}],zhVvt:[{required:!0,message:"请输入",trigger:"blur"}],enVvt:[{required:!0,message:"请输入",trigger:"blur"}],class:[{required:!0,message:"请选择",trigger:"change"}],difficulty:[{required:!0,message:"请选择",trigger:"change"}]}}},mounted:function(){},methods:{submitForm:function(e){var t=this;return new Promise(function(a,i){t.$refs[e].validate(function(e){e?a(!0):(t.$message.warning("请检查字段是否填写完整！"),i(!1))})})}}},ae=te,ie=(a("f7e6"),Object(d["a"])(ae,Z,ee,!1,null,"ac55b112",null));ie.options.__file="FunInfoItem.vue";var ne=ie.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"201px"}},[a("div",[a("div",{staticClass:"backBlock",on:{click:function(t){e.jumpPage("/mediaList")}}},[a("i",{staticClass:"el-icon-back"}),a("span",{staticClass:"backText"},[e._v("返回")])]),a("show-media",{staticStyle:{width:"200px",height:"100px"},attrs:{"file-info":e.fileInfo,"current-type":e.currentType}}),a("div",{staticClass:"backBlock"},[a("div",{staticClass:"backBlock",on:{click:function(t){e.jumpPage("/editMediaInfo/"+e.$route.params.id)}}},[e._v("基本信息")]),a("div",{staticClass:"editBlock",on:{click:function(t){e.jumpPage("/editMaterialInfo/"+e.$route.params.id)}}},[e._v("编辑素材")])])],1)])},se=[],le={props:{fileInfo:Object},components:{ShowMedia:P},data:function(){return{currentType:""}},mounted:function(){},methods:{jumpPage:function(e){this.$router.push(e)}},watch:{fileInfo:function(e){this.currentType=e.fileUrl.substring(e.fileUrl.length-3)}}},re=le,ce=(a("13f7"),Object(d["a"])(re,oe,se,!1,null,"8103fe3c",null));ce.options.__file="MediaAsideItem.vue";var de=ce.exports,ue={name:"edit-media-info",components:{TalkInfo:K,FunInfo:ne,MediaAside:de},data:function(){return{currentType:"iFun",iTalkForm:{},iFunForm:{},labelList:[],fileInfo:{}}},mounted:function(){this.getOneMediaData()},methods:{postCreateCMSData:function(){var e=this;this.checkFormRules().then(function(t){var a=e.getFormData(e.getMediaInfo());e.postAddLabelData(e.getMediaInfo().label),e.$axios.post("/material/_createCMS",a).then(function(t){t.data.code||(e.$message.success("创建成功"),e.postMediaInfoData(a))})})},checkFormRules:function(){var e=this;return new Promise(function(t,a){"iFun"===e.currentType?e.$refs.funForm.submitForm("ruleForm").then(function(e){t(e)}):"iTalk"===e.currentType&&e.$refs.talkForm.submitForm("ruleForm").then(function(e){t(e)})})},postAddLabelData:function(e){var t=this;e=e||[],e.forEach(function(e){var a=new FormData;a.append("label",e),a.append("category",t.currentType),t.$axios.post("/label/_add",a).then(function(e){console.log(e)})})},getOneMediaData:function(){var e=this;this.$axios.get("/material/_getone",{params:{materialId:this.$route.params.id}}).then(function(t){t.data.code||(console.log(t),e.getMediaFormInfo(t),e.fileInfo=t.data.data)})},getMediaFormInfo:function(e){if(e.data.data.category)switch(this.currentType=e.data.data.category,e.data.data.label=e.data.data.label||[],e.data.data.category){case"iFun":this.iFunForm=e.data.data;break;case"iTalk":this.iTalkForm=e.data.data;break}this.getAllLabelData(e.data.data.category)},getMediaInfo:function(){var e=this.iFunForm;switch(this.currentType){case"iFun":e=this.iFunForm;break;case"iTalk":e=this.iTalkForm}return e},getAllLabelData:function(e){var t=this;this.$axios.get("/label/_find",{params:{category:e,all:"all"}}).then(function(e){console.log(e.data.data),e.data.code||(t.labelList=e.data.data)})},getFormData:function(e){var t=new FormData;return e.materialId=this.$route.params.id,e.source="upload",e.status=0,e.category=this.currentType,Object.keys(e).forEach(function(a){t.append(a,e[a])}),t.set("label",JSON.stringify(e.label||[])),t},postMediaInfoData:function(e){var t=this;this.checkFormRules().then(function(a){var i=e||t.getFormData(t.getMediaInfo());t.postAddLabelData(e.label),t.$axios.post("/material/_update",i).then(function(e){e.data.code||t.$message.success("更新成功")})})}},watch:{currentType:function(e){console.log(e),this.getAllLabelData(e)}}},pe=ue,fe=(a("9561"),Object(d["a"])(pe,q,H,!1,null,"507f0dd5",null));fe.options.__file="EditMediaInfo.vue";var me=fe.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("media-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:3}},[a("div",[e._v("编辑")])])],1),a("div",{staticClass:"videoInfo"},[a("embed",{attrs:{src:"https://player.youku.com/player.php/sid/XMTQ3MjM5Mjc0MA==/v.swf",allowFullScreen:"true",quality:"high",width:"732",height:"403",align:"middle",allowScriptAccess:"always",type:"application/x-shockwave-flash"}})]),a("div",[a("el-button",{staticClass:"addManual",attrs:{plain:"",size:"mini"}},[e._v("添加手动裁剪")]),a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{plain:"",size:"mini"}},[e._v("\n                        自动切分为iTalk\n                    ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("每一句")]),a("el-dropdown-item",[e._v("每二句")])],1)],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShowCut,expression:"isShowCut"}],staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"}},[e._v("切分")])],1),a("div",{staticClass:"cutList"},[a("div",{staticClass:"manual"},[a("div",{staticClass:"manualTitle"},[e._v("手动裁剪")]),a("el-row",{staticClass:"manualList",attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",[a("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"27px"}})])]),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}}),e._v("\n                                -\n                                "),a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"25px"}})])])],1)],1),a("div",[a("div",{staticClass:"manualTitle"},[e._v("自动切分iTalk (42个片段)")]),a("el-row",{staticClass:"manualList",attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",[a("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"27px"}})])]),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}}),e._v("\n                                -\n                                "),a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"25px"}})])])],1),a("el-row",{staticClass:"manualList",attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",[a("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"27px"}})])]),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}}),e._v("\n                                -\n                                "),a("el-input",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("el-input",{attrs:{size:"mini",placeholder:""}})],1)]),a("el-col",{attrs:{span:2}},[a("div",[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"25px"}})])])],1)],1)])],1),a("el-footer")],1)],1)},ge=[],ve={name:"edit-media-info",components:{MediaAside:de},data:function(){return{isShowCut:!1}}},be=ve,ye=(a("0369"),Object(d["a"])(be,he,ge,!1,null,"e264fbc6",null));ye.options.__file="EditMaterialInfo.vue";var we=ye.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[e._v("\n                        iWords\n                    ")])])],1),a("filter-list",{attrs:{listType:"word",filterList:e.filterList,"label-list":e.labelList}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.jumpPage("/editIWordInfo/new")}}},[e._v("添加")]),a("lesson-list",{attrs:{"lesson-type":"word","type-list":e.iWordTypeList,"lesson-list":e.wordsList,"edit-page":"/editIWordInfo/"},on:{delLessonInfo:e.delLessonInfo,handleCommand:e.handleCommand}})],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.paginationSize,layout:"total, prev, pager, next",total:e.paginationNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1),a("release-timing",{attrs:{isShow:e.isShowSetTime,id:e.currentId},on:{hideTiming:e.hideTimer,releaseTimer:e.releaseTimer}})],1)],1)},_e=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"timingMain",attrs:{title:"定时发布",visible:e.isShow,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"40%"},on:{"update:visible":function(t){e.isShow=t}}},[a("div",{staticStyle:{"min-height":"150px"}},[a("el-date-picker",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("el-time-select",{attrs:{size:"small","picker-options":{start:"00:30",step:"00:30",end:"23:30"},placeholder:"选择时间"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideTiming}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.setScheduledRelease}},[e._v("设 定")])],1)])},Le=[],ke=(a("28a5"),{props:{isShow:Boolean,id:String},data:function(){return{time:"",date:""}},mounted:function(){},methods:{hideTiming:function(){this.$emit("hideTiming",!1)},setScheduledRelease:function(){var e=this.time.split(":"),t=new FormData;t.append("lessonId",this.id);var a=new Date(this.date).setHours(e[0],e[1],0);if(t.append("time",a/1e3),"new"===this.$route.params.id)return this.$emit("hideTiming",{key:"new",date:a});this.$emit("releaseTimer",t)}},watch:{}}),Ie=ke,Se=(a("4131"),Object(d["a"])(Ie,Te,Le,!1,null,"4fefa42f",null));Se.options.__file="ReleaseTimingItem.vue";var $e=Se.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{ref:"",staticStyle:{width:"100%"},attrs:{data:e.lessonList,"tooltip-effect":"dark"},on:{"selection-change":function(e){}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.title))]}}])}),"talk"!==e.lessonType?a("el-table-column",{attrs:{prop:"difficulty",label:"分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.typeList[t.row.class]))])]}}])}):e._e(),"word"!==e.lessonType?a("el-table-column",{attrs:{prop:"difficulty",label:"难度"},scopedSlots:e._u([{key:"default",fn:function(t){return["simple"===t.row.difficulty?a("span",[e._v("初级")]):e._e(),"easily"===t.row.difficulty?a("span",[e._v("中级")]):e._e(),"difficulty"===t.row.difficulty?a("span",[e._v("高级")]):e._e(),"bonus"===t.row.difficulty?a("span",[e._v("彩蛋题")]):e._e()]}}])}):e._e(),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",[e._v("未发布")]):e._e(),1===t.row.status?a("span",[e._v("待发布")]):e._e(),2===t.row.status?a("span",[e._v("已发布")]):e._e(),a("div",{staticClass:"table-secondary"},[e._v(e._s(e._f("moment")(1e3*t.row.publicTime||"","YYYY/MM/DD HH:mm")))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.jumpPage(e.editPage+t.row._id)}}},[e._v("编辑\n            ")]),a("el-dropdown",{staticClass:"dropdown-edit",attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                            发布"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"release",value:t.row}}},[e._v("发布")]),a("el-dropdown-item",{attrs:{command:{key:"time",value:t.row}}},[e._v("定时发布")])],1)],1),a("el-button",{staticClass:"dropdown-edit",staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){e.delLessonInfo(t.row._id)}}},[e._v("\n                刪除\n            ")])]}}])})],1)},Me=[],De={props:{lessonType:String,lessonList:Array,typeList:Object,editPage:String},mounted:function(){console.log(this.lessonType)},methods:{jumpPage:function(e){this.$router.push(e)},handleCommand:function(e){this.$emit("handleCommand",e)},delLessonInfo:function(e){this.$emit("delLessonInfo",e)}}},Ce=De,Fe=(a("b8bb"),Object(d["a"])(Ce,ze,Me,!1,null,"4e3964fa",null));Fe.options.__file="LessonListItem.vue";var We=Fe.exports,je={components:{FilterList:_,ReleaseTiming:$e,LeftAside:$,LessonList:We},data:function(){return{iWordTypeList:{lifeStyle:"有型生活",oversea:"海外生存",date:"约会妙计",tourGuide:"旅游指南",serious:"正经一下",series:"电影美剧",dailyWord:"每日一词"},wordsList:[],currentPage:1,isShowSetTime:!1,paginationNum:0,paginationSize:10,filterList:{},currentId:"",labelList:[]}},mounted:function(){this.init()},methods:{init:function(){this.getWordsListData(),this.getWordsNumData()},getWordsListData:function(){var e=this;this.$axios.get("/lesson/_find",{params:{page:this.currentPage,num:this.paginationSize,category:"iWord"}}).then(function(t){console.log(t),t.data.code||(e.wordsList=t.data.data)})},getWordsNumData:function(){var e=this;this.$axios.get("/lesson/_getnum",{params:{page:this.currentPage,category:"iWord"}}).then(function(t){e.paginationNum=t.data.data})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.getWordsListData()},jumpPage:function(e){this.$router.push(e)},handleCommand:function(e){"time"===e.key?(this.isShowSetTime=!0,this.currentId=e.value._id):this.postUpdateWordData(e.value)},hideTimer:function(){this.isShowSetTime=!1,this.init()},postUpdateWordData:function(e){var t=this,a=new FormData;a.append("lessonId",e._id),a.append("publicTime",parseInt((new Date).getTime()/1e3)),a.append("status",2),this.$axios.post("/lesson/_update",a).then(function(e){console.log(e),e.data.code||t.getWordsListData()})},getAllLabelData:function(){var e=this;this.$axios.get("/label/_find",{params:{category:"iWord",all:"all"}}).then(function(t){console.log(t.data.data),t.data.code||(e.labelList=t.data.data)})},delLessonInfo:function(e){var t=this;this.$confirm("文件将被直接删除","确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(function(){t.delLessonData(e)}).catch(function(){})},delLessonData:function(e){var t=this;this.$axios.get("/lesson/_delete",{params:{lessonId:e}}).then(function(e){e.data.code||(t.$message({type:"success",message:"已删除"}),t.init())})},releaseTimer:function(e){var t=this;this.$axios.post("/lesson/_public",e).then(function(e){e.data.code||(t.$message.success("设置成功"),t.$emit("hideTiming",!1))})}}},Pe=je,Ue=(a("e5de"),Object(d["a"])(Pe,xe,_e,!1,null,"7927539d",null));Ue.options.__file="IWordsList.vue";var Oe=Ue.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"标题",size:"medium"},model:{value:e.iWordTitle,callback:function(t){e.iWordTitle=t},expression:"iWordTitle"}})],1),a("el-col",{attrs:{span:4,offset:1}},[a("el-select",{attrs:{placeholder:"分类",value:"",size:"medium"},model:{value:e.iWordType,callback:function(t){e.iWordType=t},expression:"iWordType"}},e._l(e.iWordTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),a("div",{staticStyle:{float:"right"}},[a("div",[a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small"},on:{click:e.postWordsData}},[e._v("保存\n                        ")]),a("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small",trigger:"click"},on:{click:e.postReleaseData,command:e.handleCommand}},[e._v("发布\n                            "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"time",value:""}}},[e._v("定时发布")])],1)],1)],1)])],1),a("el-row",{staticClass:"workInfoMain",attrs:{type:"flex"}},[a("el-col",{attrs:{span:11}},[a("p",[e._v("Markdown\n                        "),a("el-button",{staticStyle:{"margin-left":"30px",padding:"0"},attrs:{type:"text"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("插入媒体\n                        ")])],1),a("el-input",{style:{height:e.currentHeight+"px"},attrs:{id:"markdownInfo",type:"textarea"},on:{change:e.changeMarkDown},model:{value:e.markdownInfo,callback:function(t){e.markdownInfo=t},expression:"markdownInfo"}})],1),a("el-col",{attrs:{span:11,offset:1}},[a("p",[e._v("渲染预览")]),a("div",{staticClass:"workInfoShow",style:{height:e.currentHeight+"px"}},[a("vue-markdown",{staticClass:"markdownInfo",attrs:{source:e.showInfo}})],1)])],1),a("release-timing",{attrs:{isShow:e.isShowSetTime,id:e.currentId},on:{hideTiming:e.hideTimer,releaseTimer:e.releaseTimer}})],1),a("el-dialog",{attrs:{title:"媒体库",width:"95%",top:"5vh","before-close":e.hideMediaDia,visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("filter-list",{attrs:{listType:"media","filter-list":e.filterList},on:{filterMediaList:e.filterMediaList}}),a("div",{staticClass:"am-form-file"},[a("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"primary"}},[e._v("上传")]),a("input",{ref:"myFiles",attrs:{type:"file",multiple:"",accept:"audio/mp3,video/mp4,image/jpg,image/png"},on:{change:e.changeUploadList}})],1),a("media-list",{ref:"mediaListDia",attrs:{"table-type":"mediaDia","new-row-list":e.newRowList,"media-list":e.mediaList,"current-page":e.currentPage},on:{select:e.handleSelectChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":e.currentPage,"page-size":e.paginationSize,layout:"total, prev, pager, next",total:e.paginationNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.createMDInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{staticClass:"dialogUpload",attrs:{title:"上传文件",visible:e.dialogUploadVisible,"close-on-press-escape":!1,"close-on-click-modal":!1,"before-close":e.hideUploadDia,width:"50%"},on:{"update:visible":function(t){e.dialogUploadVisible=t}}},[a("div",{staticStyle:{border:"1px solid #bbb","min-height":"200px"}},[a("div",{staticStyle:{padding:"10px"}},e._l(e.fileList,function(t,i){return a("div",{key:i},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:18}},[a("div",[a("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(t.name))]),a("el-progress",{attrs:{"stroke-width":3,percentage:t.num,status:100===t.num?"success":"text"}},[e._v(e._s(t.num)+"%\n                                    ")])],1)]),a("el-col",{attrs:{span:4}},[a("div",[""!==t.id?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){e.jumpNewPage(t.id)}}},[e._v("查看\n                                    ")]):e._e()],1)])],1)],1)}),0)]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.hideUploadDia}},[e._v("完成")])],1)])],1)],1)},Ve=[],Ee=(a("a481"),a("4917"),a("5df3"),a("53ca")),Ne={components:{ReleaseTiming:$e,LeftAside:$,FilterList:_,MediaList:V},data:function(){return{iWordTypeList:{lifeStyle:"有型生活",oversea:"海外生存",date:"约会妙计",tourGuide:"旅游指南",serious:"正经一下",series:"电影美剧",dailyWord:"每日一词"},iWordTitle:"",markdownInfo:"",currentHeight:0,showInfo:"",isShowSetTime:!1,dialogTableVisible:!1,dialogUploadVisible:!1,filterList:{},iWordType:"",currentId:this.$route.params.id,mediaList:[],currentPage:1,paginationNum:0,paginationSize:10,currentSelect:[],fileList:[],newRowList:[]}},mounted:function(){this.init()},methods:{init:function(){this.currentHeight=window.innerHeight-150,"new"!==this.$route.params.id&&this.getOneWordsData(),this.getMediaList()},getMediaList:function(e){var t=this;this.getMediaListData(e).then(function(a){t.mediaList=a,t.getMediaNumData(e)})},getMediaListData:function(e){var t=this;return e=e||{},e.page=this.currentPage,e.num=this.paginationSize,new Promise(function(a,i){t.$axios.get("/material/_find",{params:e}).then(function(e){e.data.code||a(e.data.data)})})},getMediaNumData:function(e){var t=this;e=e||{},this.$axios.get("/material/_getnum",{params:e}).then(function(e){t.paginationNum=e.data.data})},changeUploadList:function(){var e=this,t=Object.values(this.$refs.myFiles.files);t.forEach(function(t){e.fileList.push({name:t.name,num:0,id:""})}),this.postUploadData(0,t)},handleUploadChange:function(){this.dialogUploadVisible=!0},postUploadData:function(e,t){var a=this,i=new FormData;i.append("file",t[e]),this.handleUploadChange(),this.$axios.post("/file/_upload",i,{onUploadProgress:function(t){this.fileList[e].num=parseInt(Math.round(100*t.loaded/t.total))}.bind(this)}).then(function(i){0===i.data.code&&i.data.data[0]&&(a.$message.success("上传成功"),a.fileList[e].id=i.data.data[0].material._id,a.getMediaListData().then(function(e){a.mediaList=e,setTimeout(function(){a.newRowList.push(i.data.data[0].material.fileId),a.$refs.mediaListDia.testToggleSelection(a.newRowList)},0)}),e+=1,e<=t.length-1?a.postUploadData(e,t):a.$refs.myFiles.value="")})},jumpNewPage:function(e){window.open("#/editMediaInfo/"+e,"_blank")},hideTimer:function(e){var t=this;"object"===Object(Ee["a"])(e)?this.postWordData(this.getAddWordInfo(0)).then(function(a){t.currentId=a.id,t.setScheduledRelease(a._id,e.date)}):(this.postUpdateWordsData(),this.isShowSetTime=!1)},setScheduledRelease:function(e,t){var a=this,i=new FormData;i.append("lessonId",e),i.append("time",t/1e3),this.$axios.post("/lesson/_public",i).then(function(t){t.data.code||(a.$message.success("设置成功"),a.jumpPage("/editIWordInfo/"+e),a.isShowSetTime=!1)})},hideUploadDia:function(){this.fileList=[],this.dialogUploadVisible=!1},hideMediaDia:function(){this.$refs.mediaListDia.clearSelect(),this.newRowList=[],this.dialogTableVisible=!1},getOneWordsData:function(){var e=this;this.$axios.get("/lesson/_getone",{params:{lessonId:this.$route.params.id}}).then(function(t){t.data.code||(console.log(t.data.data),e.iWordTitle=t.data.data.title||"",e.iWordType=t.data.data.class||"",e.markdownInfo=t.data.data.cms)})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.getMediaList()},handleCommand:function(e){"time"===e.key&&(this.isShowSetTime=!0)},filterMediaList:function(){},postWordsData:function(){"new"===this.$route.params.id?this.postAddWordsData(0):this.postUpdateWordsData()},getAddWordInfo:function(e){var t=new FormData;return t.append("cms",this.markdownInfo),t.append("zhTitle",this.iWordTitle),t.append("category","iWord"),t.append("status",e),t.append("class",this.iWordType),2===e&&t.append("publicTime",parseInt((new Date).getTime()/1e3)),t},postAddWordsData:function(e){var t=this;this.postWordData(this.getAddWordInfo(e)).then(function(e){t.$message.success("添加成功"),t.jumpPage("/editIWordInfo/"+e._id)})},postWordData:function(e){var t=this;return new Promise(function(a,i){t.$axios.post("/lesson/_add",e).then(function(e){console.log(e),e.data.code||a(e.data.data)})})},postUpdateWordsData:function(){var e=this,t=new FormData;t.append("lessonId",this.$route.params.id),t.append("cms",this.markdownInfo),t.append("zhTitle",this.iWordTitle),t.append("class",this.iWordType),this.$axios.post("/lesson/_update",t).then(function(t){console.log(t),t.data.code||e.$message.success("更新成功")})},postReleaseData:function(){var e=this;if("new"===this.$route.params.id)return this.postAddWordsData(2);var t=new FormData;t.append("lessonId",this.$route.params.id),t.append("cms",this.markdownInfo),t.append("zhTitle",this.iWordTitle),t.append("publicTime",parseInt((new Date).getTime()/1e3)),t.append("class",this.iWordType),t.append("status",2),this.$axios.post("/lesson/_update",t).then(function(t){t.data.code||e.$message.success("发布成功")})},jumpPage:function(e){this.$router.push(e)},handleSelectChange:function(e){var t=this,a=[];e.forEach(function(e){a.push(t.getOneFile(e.fileId))}),Promise.all(a).then(function(e){console.log(e),t.currentSelect=e})},getOneFile:function(e){var t=this;return new Promise(function(a,i){t.$axios.get("/file/_getone",{params:{fileId:e}}).then(function(e){e.data.code||a(e.data.data)})})},releaseTimer:function(e){var t=this;this.$axios.post("/lesson/_public",e).then(function(e){e.data.code||(t.$message.success("设置成功"),t.$emit("hideTiming",!1))})},createMDInfo:function(){var e=document.querySelector("#markdownInfo"),t=e.selectionEnd;e.focus();var a="";this.currentSelect.forEach(function(e){var t=e.fileName.substring(e.fileName.length-4);".mp3"===t.toLowerCase()?a+="\n![audio]("+e.fileUrl+")\n":".mp4"===t.toLowerCase()?a+="\n![video]("+e.fileUrl+")\n":".jpg"!==t.toLowerCase()&&".png"!==t.toLowerCase()&&".gif"!==t.toLowerCase()||(a+="\n![pic]("+e.fileUrl+")\n")}),this.markdownInfo=this.markdownInfo.substr(0,t)+a+this.markdownInfo.substr(t,this.markdownInfo.length-1),this.hideMediaDia()},changeMarkDown:function(){var e=this.markdownInfo,t=e.match(/!+\[audio]\(([^)]*)\)/gi)||[];t.forEach(function(t){var a=t.split(/\(|\)/)[1],i='<audio  controls="" preload="none"><source src="'.concat(a,'"></audio>');e=e.replace(t,i)});var a=e.match(/!+\[video]\(([^)]*)\)/gi)||[];a.forEach(function(t){var a=t.split(/\(|\)/)[1],i='<video  controls="" preload="none"><source src="'.concat(a,'" type="video/mp4"></video>');e=e.replace(t,i)}),this.showInfo=e}},watch:{markdownInfo:function(e,t){this.changeMarkDown()}}},Re=Ne,Be=(a("cd47"),Object(d["a"])(Re,Ae,Ve,!1,null,"c291004e",null));Be.options.__file="EditIWordInfo.vue";var qe=Be.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[e._v("\n                        iTalkList\n                    ")])])],1),a("filter-list",{attrs:{listType:"talk","filter-list":e.filterList,"label-list":e.labelList}}),a("lesson-list",{attrs:{"lesson-type":"talk","type-list":{},"lesson-list":e.talkList,"edit-page":"/showITalkInfo/"},on:{delLessonInfo:e.delLessonInfo,handleCommand:e.handleCommand,releaseTimer:e.releaseTimer}})],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.paginationSize,layout:"total, prev, pager, next",total:e.paginationNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1),a("release-timing",{attrs:{isShow:e.isShowSetTime},on:{hideTiming:function(t){e.isShowSetTime=!1},releaseTimer:e.releaseTimer}})],1)],1)},Ye=[],Ge={components:{FilterList:_,ReleaseTiming:$e,LeftAside:$,LessonList:We},data:function(){return{talkList:[],multipleSelection:[],currentPage:1,isShowSetTime:!1,filterList:{},paginationNum:0,paginationSize:10,labelList:[]}},mounted:function(){this.init()},methods:{init:function(){this.getTalkListData(),this.getTalkNumData()},getTalkListData:function(){var e=this;this.$axios.get("/lesson/_find",{params:{page:this.currentPage,num:this.paginationSize,category:"iTalk"}}).then(function(t){console.log(t),t.data.code||(e.talkList=t.data.data)})},getTalkNumData:function(){var e=this;this.$axios.get("/lesson/_getnum",{params:{page:this.currentPage,category:"iTalk"}}).then(function(t){e.paginationNum=t.data.data})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.getTalkListData()},jumpPage:function(e){this.$router.push(e)},handleCommand:function(e){"time"===e.key&&(this.isShowSetTime=!0)},delLessonInfo:function(e){var t=this;this.$confirm("文件将被直接删除","确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(function(){t.delLessonData(e)}).catch(function(){})},delLessonData:function(e){var t=this;this.$axios.get("/lesson/_delete",{params:{lessonId:e}}).then(function(e){e.data.code||(t.$message({type:"success",message:"已删除"}),t.init())})},getAllLabelData:function(){var e=this;this.$axios.get("/label/_find",{params:{category:"iTalk",all:"all"}}).then(function(t){console.log(t.data.data),t.data.code||(e.labelList=t.data.data)})},releaseTimer:function(e){var t=this;this.$axios.post("/lesson/_public",e).then(function(e){e.data.code||(t.$message.success("设置成功"),t.$emit("hideTiming",!1))})}}},Je=Ge,Qe=(a("d935"),Object(d["a"])(Je,He,Ye,!1,null,"5c917bc8",null));Qe.options.__file="ITalkList.vue";var Xe=Qe.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[e._v("\n                    "+e._s(e.talkInfo.materialId.zhTitle)+"\n                ")]),a("div",{staticStyle:{float:"right"}},[a("div",[a("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small",trigger:"click"},on:{command:e.handleCommand,click:e.postReleaseData}},[e._v("发布\n                            "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{key:"time",value:""}}},[e._v("定时发布")])],1)],1)],1)])],1),a("el-row",{staticClass:"talkInfo"},[a("el-col",{attrs:{span:3}},[a("div",[e._v("难度")]),a("div",[e._v("英文字幕")]),a("div",[e._v("标签")])]),a("el-col",{attrs:{span:12}},[a("div",["simple"===e.talkInfo.materialId.difficulty?a("span",[e._v("初级")]):e._e(),"easily"===e.talkInfo.materialId.difficulty?a("span",[e._v("中级")]):e._e(),"difficulty"===e.talkInfo.materialId.difficulty?a("span",[e._v("高级")]):e._e(),"bonus"===e.talkInfo.materialId.difficulty?a("span",[e._v("彩蛋题")]):e._e()]),a("div",[e._v("\n                        "+e._s(e.talkInfo.materialId.enVvt||"--")+"\n                    ")]),a("div",[e._v(e._s(e.talkInfo.materialId.label||"--"))])])],1),a("show-media",{staticStyle:{width:"732px",height:"403px"},attrs:{"file-info":e.fileInfo,"current-type":e.currentType}}),a("release-timing",{attrs:{isShow:e.isShowSetTime,id:e.$route.params.id},on:{hideTiming:e.hideTimer,releaseTimer:e.releaseTimer}})],1)],1)],1)},Ze=[],et={components:{ReleaseTiming:$e,LeftAside:$,ShowMedia:P},data:function(){return{isShowSetTime:!1,currentType:"",talkInfo:{materialId:{}},fileInfo:{},mediaInfo:{}}},mounted:function(){this.getOneTalkData()},methods:{jumpPage:function(e){this.$router.push(e)},handleCommand:function(e){"time"===e.key&&(this.isShowSetTime=!0)},getOneTalkData:function(){var e=this;this.$axios.get("/lesson/_getone",{params:{lessonId:this.$route.params.id}}).then(function(t){t.data.code||(console.log(t.data.data),e.currentType=t.data.data.materialId.fileUrl.substring(t.data.data.materialId.fileUrl.length-3),e.fileInfo=t.data.data.materialId,e.talkInfo=t.data.data)})},hideTimer:function(){this.isShowSetTime=!1},postReleaseData:function(){var e=this,t=new FormData;t.append("lessonId",this.$route.params.id),t.append("publicTime",parseInt((new Date).getTime()/1e3)),t.append("status",2),this.$axios.post("/ifun/_update",t).then(function(t){t.data.code||e.$message.success("发布成功")})},releaseTimer:function(e){var t=this,a={ShowIFunInfo:"/ifun/_public",ShowITalkInfo:"/lesson/_public"};this.$axios.post(a[this.$route.name],e).then(function(e){e.data.code||(t.$message.success("设置成功"),t.$emit("hideTiming",!1))})}}},tt=et,at=(a("b415"),Object(d["a"])(tt,Ke,Ze,!1,null,"03671b90",null));at.options.__file="ShowITalkInfo.vue";var it=at.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("left-aside"),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"font-size":"20px",height:"37px"}},[e._v("\n                        iFun\n                    ")])])],1),a("filter-list",{attrs:{listType:"fun",filterList:e.filterList,"label-list":e.labelList}}),a("lesson-list",{attrs:{"lesson-type":"fun","type-list":e.iFunTypeList,"lesson-list":e.funList,"edit-page":"/showIFunInfo/"},on:{delLessonInfo:e.delLessonInfo,handleCommand:e.handleCommand}})],1),a("el-footer",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.paginationSize,layout:"total, prev, pager, next",total:e.paginationNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1),a("release-timing",{attrs:{isShow:e.isShowSetTime,id:e.currentId},on:{hideTiming:e.hideTimer,releaseTimer:e.releaseTimer}})],1)],1)},ot=[],st={components:{FilterList:_,ReleaseTiming:$e,LeftAside:$,LessonList:We},data:function(){return{iFunTypeList:{funny:"搞笑",movie:"电影",entertainment:"娱乐",culture:"文化",travel:"旅行",arts:"艺术",foods:"美食",sports:"运动",technology:"科技"},funList:[],currentPage:1,isShowSetTime:!1,paginationNum:0,paginationSize:10,filterList:{},currentId:"",labelList:[]}},mounted:function(){this.init()},methods:{init:function(){this.getWordsListData(),this.getWordsNumData()},getWordsListData:function(){var e=this;this.$axios.get("/ifun/_find",{params:{page:this.currentPage,num:this.paginationSize,category:"iFun"}}).then(function(t){console.log(t),t.data.code||(e.funList=t.data.data)})},getWordsNumData:function(){var e=this;this.$axios.get("/ifun/_getnum",{params:{category:"iFun"}}).then(function(t){e.paginationNum=t.data.data})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.getWordsListData()},jumpPage:function(e){this.$router.push(e)},handleCommand:function(e){"time"===e.key?(this.isShowSetTime=!0,this.currentId=e.value._id):this.postUpdateWordData(e.value)},hideTimer:function(){this.isShowSetTime=!1,this.init()},postUpdateWordData:function(e){var t=this,a=new FormData;a.append("lessonId",e._id),a.append("publicTime",parseInt((new Date).getTime()/1e3)),a.append("status",2),this.$axios.post("/ifun/_update",a).then(function(e){console.log(e),e.data.code||t.getWordsListData()})},delLessonInfo:function(e){var t=this;this.$confirm("文件将被直接删除","确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(function(){t.delLessonData(e)}).catch(function(){})},delLessonData:function(e){var t=this;this.$axios.get("/ifun/_delete",{params:{lessonId:e}}).then(function(e){e.data.code||(t.$message({type:"success",message:"已删除"}),t.init())})},getAllLabelData:function(){var e=this;this.$axios.get("/label/_find",{params:{category:"iFun",all:"all"}}).then(function(t){console.log(t.data.data),t.data.code||(e.labelList=t.data.data)})},releaseTimer:function(e){var t=this;this.$axios.post("/ifun/_public",e).then(function(e){e.data.code||(t.$message.success("设置成功"),t.$emit("hideTiming",!1))})}}},lt=st,rt=(a("199f"),Object(d["a"])(lt,nt,ot,!1,null,"eec09c14",null));rt.options.__file="IFunList.vue";var ct=rt.exports;i["default"].use(m["a"]);var dt=new m["a"]({routes:[{path:"/",name:"MediaList",component:B},{path:"/mediaList",name:"MediaList",component:B},{path:"/editMediaInfo/:id",name:"EditMediaInfo",component:me},{path:"/editMaterialInfo/:id",name:"EditMaterialInfo",component:we},{path:"/iWordsList",name:"IWordsList",component:Oe},{path:"/editIWordInfo/:id",name:"EditIWordInfo",component:qe},{path:"/iTalkList",name:"ITalkList",component:Xe},{path:"/showITalkInfo/:id",name:"ShowITalkInfo",component:it},{path:"/iFunList",name:"IFunList",component:ct},{path:"/showIFunInfo/:id",name:"ShowIFunInfo",component:it}]}),ut=a("2f62");i["default"].use(ut["a"]);var pt=new ut["a"].Store({state:{},mutations:{},actions:{}}),ft=a("bc3a"),mt=a.n(ft),ht=a("a7fe"),gt=a.n(ht),vt=a("2ead"),bt=a.n(vt);i["default"].config.productionTip=!1,i["default"].use(o.a),i["default"].use(gt.a,mt.a),i["default"].component("VueMarkdown",l.a),i["default"].use(bt.a),mt.a.defaults.baseURL="http://188.131.179.172:16000",mt.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",i["default"].prototype.$axios=mt.a,new i["default"]({router:dt,store:pt,render:function(e){return e(f)}}).$mount("#app")},"57b1":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".am-form-file[data-v-7d9d5653]{position:relative;overflow:hidden}.am-form-file input[type=file][data-v-7d9d5653]{position:absolute;z-index:1;left:0;opacity:0;width:56px;height:28px;cursor:pointer}",""])},"5d54":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".el-dropdown-link[data-v-4e3964fa]{cursor:pointer;color:#409eff;font-size:12px}.dropdown-edit[data-v-4e3964fa]{margin-left:15px}.table-secondary[data-v-4e3964fa]{font-size:12px;color:#909399}",""])},"653f":function(e,t,a){var i=a("c21b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("36719048",i,!0,{sourceMap:!1,shadowMode:!1})},"7fe5":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".media[data-v-a0ffc0da]{width:100%;height:100%;min-height:60px}",""])},8628:function(e,t,a){var i=a("43c6");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("3a8bc85d",i,!0,{sourceMap:!1,shadowMode:!1})},"8f30":function(e,t,a){var i=a("e847");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("3ebff826",i,!0,{sourceMap:!1,shadowMode:!1})},"913a":function(e,t,a){var i=a("f5e3");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("5ed094a4",i,!0,{sourceMap:!1,shadowMode:!1})},9561:function(e,t,a){"use strict";var i=a("2c9b"),n=a.n(i);n.a},"99ed":function(e,t,a){var i=a("f87e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("05dcb2b2",i,!0,{sourceMap:!1,shadowMode:!1})},"9ba9":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".talkInfo[data-v-03671b90]{font-size:12px;padding:20px 0}.talkInfo div[data-v-03671b90]{margin:15px 0}",""])},b136:function(e,t,a){var i=a("23a2");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("2598881c",i,!0,{sourceMap:!1,shadowMode:!1})},b415:function(e,t,a){"use strict";var i=a("26b5"),n=a.n(i);n.a},b8bb:function(e,t,a){"use strict";var i=a("3f43"),n=a.n(i);n.a},ba42:function(e,t,a){var i=a("480b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("63ea943b",i,!0,{sourceMap:!1,shadowMode:!1})},be4d:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"",""])},c21b:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".cutList[data-v-e264fbc6]{padding:40px 0}.videoInfo[data-v-e264fbc6]{margin:40px 0}.addManual[data-v-e264fbc6]{margin-right:15px}.manual[data-v-e264fbc6]{margin-bottom:40px}.manualTitle[data-v-e264fbc6]{color:#a8a8a8;font-size:12px;text-align:left}.manualList[data-v-e264fbc6]{margin-top:10px}",""])},c825:function(e,t,a){var i=a("be4d");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("2affcfe6",i,!0,{sourceMap:!1,shadowMode:!1})},c8db:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"",""])},caca:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".workInfoMain[data-v-c291004e]{margin-top:46px;font-size:13px}.workInfoMain p[data-v-c291004e]{margin-bottom:8px}.workInfoShow[data-v-c291004e]{overflow-y:auto;border:1px solid #dcdfe6;border-radius:5px;min-height:20px}.markdownInfo[data-v-c291004e]{padding:5px 15px}.am-form-file[data-v-c291004e]{position:relative;overflow:hidden}.am-form-file input[type=file][data-v-c291004e]{position:absolute;z-index:1;left:0;opacity:0;width:56px;height:28px;cursor:pointer}",""])},cd47:function(e,t,a){"use strict";var i=a("e053"),n=a.n(i);n.a},d2ee:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".el-dropdown-link[data-v-7927539d]{cursor:pointer;color:#409eff;font-size:12px}.dropdown-edit[data-v-7927539d]{margin-left:15px}.table-secondary[data-v-7927539d]{font-size:12px;color:#909399}",""])},d30e:function(e,t,a){"use strict";var i=a("41f8"),n=a.n(i);n.a},d935:function(e,t,a){"use strict";var i=a("913a"),n=a.n(i);n.a},da1b:function(e,t,a){"use strict";var i=a("b136"),n=a.n(i);n.a},e053:function(e,t,a){var i=a("caca");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("7edbbef6",i,!0,{sourceMap:!1,shadowMode:!1})},e2a1:function(e,t,a){var i=a("3f8c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("1f50beb8",i,!0,{sourceMap:!1,shadowMode:!1})},e534:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".el-dropdown-link[data-v-eec09c14]{cursor:pointer;color:#409eff;font-size:12px}.dropdown-edit[data-v-eec09c14]{margin-left:15px}.table-secondary[data-v-eec09c14]{font-size:12px;color:#909399}",""])},e5de:function(e,t,a){"use strict";var i=a("fddc"),n=a.n(i);n.a},e847:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"",""])},eb02:function(e,t,a){"use strict";var i=a("fc09"),n=a.n(i);n.a},ec3a:function(e,t,a){var i=a("e534");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("65a1ed26",i,!0,{sourceMap:!1,shadowMode:!1})},ee8b:function(e,t,a){"use strict";var i=a("3b7c"),n=a.n(i);n.a},f5e3:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".el-dropdown-link[data-v-5c917bc8]{cursor:pointer;color:#409eff;font-size:12px}.dropdown-edit[data-v-5c917bc8]{margin-left:15px}",""])},f7e6:function(e,t,a){"use strict";var i=a("c825"),n=a.n(i);n.a},f87e:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}",""])},fc09:function(e,t,a){var i=a("7fe5");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("4f6e60da",i,!0,{sourceMap:!1,shadowMode:!1})},fddc:function(e,t,a){var i=a("d2ee");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("1d452624",i,!0,{sourceMap:!1,shadowMode:!1})},ff11:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"ul[data-v-967dd402]{height:-webkit-fill-available}",""])}});
//# sourceMappingURL=app.76f19843.js.map